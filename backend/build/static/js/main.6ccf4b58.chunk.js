(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{127:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),n=a(20),c=a.n(n),i=(a(83),a(84),a(11)),o=a(140),l=a(139),d=a(130),j=a(51),u=a(15),p=a(16),m=a.n(p),b=a(32),h=a(33),O=a.n(h),x="LOGIN_SUCCESS",g="LOGIN_FAIL",f="USER_LOADED_SUCCESS",v="USER_LOADED_FAIL",y="AUTHENTICATED_SUCCESS",w="AUTHENTICATED_FAIL",S="LOGOUT",_="PASSWORD_RESET_FAIL",N="PASSWORD_RESET_SUCCESS",k="PASSWORD_RESET_CONFIRM_FAIL",C="PASSWORD_RESET_CONFIRM_SUCCESS",A="DELETE_MESSAGE",L="DELETE_ERROR",T="CREATE_MESSAGE",I="CREATE_ERROR",E="SIGNUP_SUCCESS",R="SIGNUP_FAIL",D=function(){return function(){var e=Object(b.a)(m.a.mark((function e(t){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access")){e.next=14;break}return a={headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.prev=2,e.next=5,O.a.get("".concat("http://localhost:8000","/auth/users/me/"),a);case 5:r=e.sent,t({type:f,payload:r.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t({type:v});case 12:e.next=15;break;case 14:t({type:v});case 15:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},F=function(){return function(e){e({type:A})}},B=function(){return function(e){e({type:L})}},W=function(e){return function(t){t({type:T,payload:e})}},G=function(e){return function(t){t({type:I,payload:e})}},P=a(9),M=a(1);var U=Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,user:e.auth.user}}),{logout:function(){return function(e){e({type:S})}}})((function(e){var t=e.logout,a=e.isAuthenticated,s=e.user,n=Object(r.useState)(!1),c=Object(i.a)(n,2),u=c[0],p=c[1],m=function(){t(),p(!0)};return Object(M.jsxs)("header",{children:[Object(M.jsx)(l.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(M.jsxs)(d.a,{children:[Object(M.jsx)(j.LinkContainer,{to:"/",children:Object(M.jsx)(l.a.Brand,{children:"ShopsDz"})}),Object(M.jsx)(l.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(M.jsx)(l.a.Collapse,{className:"justify-content-start",children:Object(M.jsx)(o.a,{className:"ml-auto",children:a?Object(M.jsxs)(r.Fragment,{className:"nav ml-auto",children:[Object(M.jsx)("li",{className:"nav-item",children:Object(M.jsxs)("a",{className:"nav-link",href:"#!",children:[Object(M.jsx)("i",{class:"fas fa-user"}),s?s.username:""]})}),Object(M.jsx)("li",{className:"nav-item",children:Object(M.jsxs)("a",{className:"nav-link",href:"#",onClick:m,children:[Object(M.jsx)("i",{class:"fas fa-sign-out-alt"}),"Logout"]})})]}):Object(M.jsxs)(r.Fragment,{className:"nav ml-auto",children:[Object(M.jsx)("li",{className:"nav-item ",children:Object(M.jsx)(j.LinkContainer,{to:"/login",children:Object(M.jsxs)(o.a.Link,{children:[Object(M.jsx)("i",{className:"fas fa-user"}),"Se connecter"]})})}),Object(M.jsx)("li",{className:"nav-item",children:Object(M.jsx)(j.LinkContainer,{to:"/signup",children:Object(M.jsxs)(o.a.Link,{children:[Object(M.jsx)("i",{class:"fas fa-user-plus"}),"S'inscrire"]})})})]})})})]})}),u?Object(M.jsx)(P.c,{to:"/"}):Object(M.jsx)(r.Fragment,{})]})})),z=a(131),q=a(72);var J=function(){return Object(M.jsx)("footer",{className:" my-0 bg-dark text-white",children:Object(M.jsx)(d.a,{bg:"dark",variant:"dark",expand:"lg",children:Object(M.jsx)(z.a,{bg:"dark",children:Object(M.jsx)(q.a,{className:"text-center py-3",bg:"dark",children:"Copyright \xa9 ShopsDZ"})})})})},H=[{_id:"1",Nom:"alimentation g\xe9n\xe9rale",Wilaya:16,Commune:"Dar El Beida",Adresse:"cit\xe9 fr\xe8re achouri dar elbaida",Telephone:"666319680","cat\xe9gorie":"Alimentation",Note:3.5,Latitude:36.7229,Longitude:3.21441,Ouverture:"07:00",Fermeture:"23:00",image:"http://127.0.0.1:8000/static/images/shop-standart.jpg",numReviews:12,produits:[{_id:"1",nom:"Miel Alg\xe9rie",image:"http://127.0.0.1:8000/static/images/produit-standard.jpg",prix:100},{_id:"2",nom:"Dattes Alg\xe9rie",image:"http://127.0.0.1:8000/static/images/produit-standard.jpg",prix:200},{_id:"3",nom:"Miel Alg\xe9rie",image:"http://127.0.0.1:8000/static/images/produit-standard.jpg",prix:100},{_id:"4",nom:"Miel Alg\xe9rie",image:"http://127.0.0.1:8000/static/images/produit-standard.jpg",prix:100}]},{_id:"2",Nom:"superette djabali",Wilaya:16,Commune:"Dar El Beida",Adresse:"rue ptt n\xb016",Telephone:"561684191","cat\xe9gorie":"Alimentation",Note:3,Latitude:36.7129,Longitude:3.21659,Ouverture:"07:00",Fermeture:"23:00",image:"http://127.0.0.1:8000/static/images/shop-standart.jpg",numReviews:10,produits:[{_id:"1",nom:"Miel Alg\xe9rie",image:"http://127.0.0.1:8000/static/images/produit-standard.jpg",prix:100},{_id:"1",nom:"Miel Alg\xe9rie",image:"http://127.0.0.1:8000/static/images/produit-standard.jpg",prix:100}]},{_id:"3",Nom:"sup\xe9rette royal",Wilaya:16,Commune:"Alger-Centre",Adresse:"03 rue lili",Telephone:"550711324","cat\xe9gorie":"Alimentation",Note:1,Latitude:36.7734,Longitude:3.06476,Ouverture:"07:00",Fermeture:"23:00",image:"http://127.0.0.1:8000/static/images/shop-standart.jpg",numReviews:12},{_id:"4",Nom:"sup\xe9rette karie bleu",Wilaya:16,Commune:"Alger-Centre",Adresse:"compiratifeb el ansoure",Telephone:"666319680","cat\xe9gorie":"Alimentation",Note:4,Latitude:36.6993,Longitude:3.07769,Ouverture:"07:00",Fermeture:"23:00",image:"http://127.0.0.1:8000/static/images/shop-standart.jpg",numReviews:12},{_id:"5",Nom:"LE HOGGAR",Wilaya:16,Commune:"Alger Centre",Adresse:"66 Rue Didouche Mourad Algiers ",Telephone:"023 50 46 10","cat\xe9gorie":"Artisanat",Note:3,Latitude:36.7498,Longitude:2.88402,Ouverture:"07:00",Fermeture:"23:00",image:"http://127.0.0.1:8000/static/images/shop-standart.jpg",numReviews:12},{_id:"6",Nom:"Arts Gallery",Wilaya:16,Commune:"Alger Centre",Adresse:"48 B Rue Didouche Mourad Algiers",Telephone:"0555 65 84 52 ","cat\xe9gorie":"Artisanat",Note:3,Latitude:36.7498,Longitude:2.88402,Ouverture:"07:00",Fermeture:"23:00",image:"http://127.0.0.1:8000/static/images/shop-standart.jpg",numReviews:12}],V=a(138),Z=a(132),K=a(142);var Q=function(e){var t=e.value,a=e.text,r=e.color;return Object(M.jsxs)("div",{className:"rating",children:[Object(M.jsx)("span",{children:Object(M.jsx)("i",{style:{color:r},className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"})}),Object(M.jsx)("span",{children:Object(M.jsx)("i",{style:{color:r},className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"})}),Object(M.jsx)("span",{children:Object(M.jsx)("i",{style:{color:r},className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"})}),Object(M.jsx)("span",{children:Object(M.jsx)("i",{style:{color:r},className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"})}),Object(M.jsx)("span",{children:Object(M.jsx)("i",{style:{color:r},className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"})}),Object(M.jsx)("span",{children:a&&a})]})},X=a(12);var Y=function(e){var t=e.magasin;return Object(M.jsxs)(K.a,{className:"my-3    rounded",children:[Object(M.jsx)(X.Link,{to:"/magasin/".concat(t._id),children:Object(M.jsx)(K.a.Img,{variant:"top",src:t.image})}),Object(M.jsxs)(K.a.Body,{children:[Object(M.jsx)(X.Link,{to:"/magasin/".concat(t._id),children:Object(M.jsxs)(K.a.Title,{as:"div",children:[Object(M.jsx)("strong",{children:t.Nom}),"  ",Object(M.jsxs)("p",{children:[" ",Object(M.jsxs)("strong",{children:[" ",t.cat\u00e9gorie]})]})]})}),Object(M.jsx)(K.a.Text,{as:"div",children:Object(M.jsx)("div",{className:"my-3",children:Object(M.jsx)(Q,{value:t.Note,text:"".concat(t.numReviews," avis"),color:"#f8e825"})})}),Object(M.jsx)(K.a.Text,{as:"div",children:Object(M.jsxs)("strong",{children:[Object(M.jsx)("i",{class:"fas fa-map-marker-alt"})," ",Object(M.jsx)("p",{children:Object(M.jsxs)("strong",{children:[t.Wilaya," ",t.Commune," ",t.Adresse]})})]})})]})]})};var $=function(){return Object(M.jsxs)("div",{children:[Object(M.jsxs)(V.a,{children:[Object(M.jsxs)(V.a.Item,{interval:5e3,style:{height:"30vw"},children:[Object(M.jsx)("img",{className:"d-block w-100",src:"".concat("http://localhost:8000","/static/images/slide-1.jpg"),alt:"First slide",style:{height:"30vw"}}),Object(M.jsxs)(V.a.Caption,{children:[Object(M.jsx)("h1",{style:{color:"silver"},children:" ShopsDZ"}),Object(M.jsx)("p",{children:"Bienvenue en Alg\xe9rie"})]})]}),Object(M.jsx)(V.a.Item,{interval:5e3,style:{height:"30vw"},children:Object(M.jsx)("img",{className:"d-block w-100",src:"".concat("http://localhost:8000","/static/images/slide-2.jpg"),alt:"Second slide",style:{height:"30vw"}})}),Object(M.jsx)(V.a.Item,{style:{height:"30vw"},interval:5e3,children:Object(M.jsx)("img",{className:"d-block w-100",src:"".concat("http://localhost:8000","/static/images/slide-3.jpg"),alt:"Third slide",style:{height:"30vw"}})}),Object(M.jsx)(V.a.Item,{style:{height:"30vw"},interval:5e3,children:Object(M.jsx)("img",{className:"d-block w-100",src:"".concat("http://localhost:8000","/static/images/slide-4.jpg"),alt:"Third slide",style:{height:"30vw"}})})]}),Object(M.jsx)(Z.a,{className:"btn btn-dark my-3",size:"md",block:!0,children:"Nos magasins"}),Object(M.jsx)(z.a,{children:H.map((function(e){return Object(M.jsx)(q.a,{className:"col-lg-4 d-flex align-items-stretch",sm:12,md:6,lg:4,xl:3,children:Object(M.jsx)(Y,{magasin:e})},e._id)}))})]})},ee=a(134),te=a(144),ae=a(135),re=a(136),se=a(74),ne=a.n(se),ce=(a(124),a(133)),ie=a(143);var oe=function(e){var t=e.produit;return Object(M.jsxs)(K.a,{className:"my-3    rounded",children:[Object(M.jsx)(K.a.Img,{variant:"top",src:t.image,style:{height:"15vw"}}),Object(M.jsxs)(K.a.Body,{children:[Object(M.jsx)(K.a.Title,{as:"div",children:Object(M.jsx)("strong",{children:t.nom})}),Object(M.jsx)(K.a.Text,{as:"div",children:Object(M.jsxs)("strong",{children:[Object(M.jsx)("i",{class:"fas fa-money-bill-wave"})," ",Object(M.jsxs)("strong",{children:[t.prix," DA "]})]})})]})]})},le={superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:5},desktop:{breakpoint:{max:3e3,min:1024},items:3},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}};var de=function(e){var t=e.match,a=H.find((function(e){return e._id===t.params.id}));return Object(M.jsxs)("div",{children:[Object(M.jsxs)(X.Link,{to:"/",children:["  ",Object(M.jsx)(Z.a,{className:"btn btn-dark my-3",size:"md",block:!0,children:"Retour a la page principale"})]}),Object(M.jsxs)(z.a,{children:[Object(M.jsx)(q.a,{md:7,children:Object(M.jsx)(ce.a,{src:a.image,alt:a.Nom,fluid:!0})}),Object(M.jsx)(q.a,{md:5,children:Object(M.jsxs)(K.a,{border:"light",style:{width:"100%"},children:[Object(M.jsx)(K.a.Header,{children:Object(M.jsx)("h3",{children:a.Nom})}),Object(M.jsxs)(K.a.Body,{children:[Object(M.jsxs)(K.a.Title,{children:[Object(M.jsx)("strong",{children:"Cat\xe9gorie : "}),a.cat\u00e9gorie]}),Object(M.jsxs)(ie.a,{variant:"flush",children:[Object(M.jsx)(ie.a.Item,{className:"pl-0",children:Object(M.jsx)(Q,{value:a.Note,text:"".concat(a.numReviews," avis"),color:"#f8e825"})}),Object(M.jsxs)(ie.a.Item,{className:"pl-0",children:[Object(M.jsx)("span",{style:{color:"black"},children:Object(M.jsx)("strong",{children:"Wilaya:"})}),"   ",a.Wilaya,Object(M.jsx)("br",{}),Object(M.jsx)("span",{style:{color:"black"},children:Object(M.jsx)("strong",{children:"Comune:"})})," ",a.Commune,Object(M.jsx)("br",{}),Object(M.jsx)("i",{class:"fas fa-map-marker-alt",children:" "})," ",Object(M.jsx)("span",{style:{color:"black"},children:Object(M.jsx)("strong",{children:a.Adresse})})]}),Object(M.jsx)(ie.a.Item,{className:"pl-0",children:Object(M.jsxs)("span",{style:{color:"black"},children:[Object(M.jsx)("i",{class:"fas fa-phone-alt"}),a.Telephone]})}),Object(M.jsxs)(ie.a.Item,{className:"pl-0",children:[Object(M.jsxs)("span",{style:{color:"black"},children:[Object(M.jsx)("i",{class:"fas fa-door-open"}),a.Ouverture]}),Object(M.jsx)("br",{}),Object(M.jsxs)("span",{style:{color:"black"},children:[Object(M.jsx)("i",{class:"fas fa-door-closed"}),a.Fermeture]})]})]})]})]})})]}),a.produits?Object(M.jsx)(ne.a,{responsive:le,children:a.produits.map((function(e){return Object(M.jsx)(q.a,{md:11,children:Object(M.jsx)(oe,{produit:e})},e._id)}))}):null,Object(M.jsxs)(ee.a,{className:"my-3",center:[a.Latitude,a.Longitude],zoom:10,scrollWheelZoom:!1,children:[Object(M.jsx)(te.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(M.jsx)(ae.a,{position:[a.Latitude,a.Longitude],children:Object(M.jsx)(re.a,{children:a.Nom})})]})]})},je=a(25),ue=a(6),pe=a(137),me=a(141);var be=function(e){var t=e.variant,a=e.children;return Object(M.jsx)(me.a,{variant:t,children:a})};var he=Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.auth.error}}),{login:function(e,t){return function(){var a=Object(b.a)(m.a.mark((function a(r){var s,n,c;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s={headers:{"Content-Type":"application/json"}},n=JSON.stringify({email:e,password:t}),a.prev=2,a.next=5,O.a.post("".concat("http://localhost:8000","/auth/jwt/create/"),n,s);case 5:c=a.sent,r({type:x,payload:c.data}),r(D()),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),r({type:g,payload:a.t0.response&&a.t0.response.data.detail?a.t0.response.data.detail:a.t0.message});case 13:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(e){return a.apply(this,arguments)}}()},delete_err:B})((function(e){var t=e.login,a=e.isAuthenticated,s=e.error,n=e.delete_err,c=Object(r.useState)({email:"",password:""}),o=Object(i.a)(c,2),l=o[0],d=o[1],j=l.email,u=l.password,p=function(e){return d(Object(ue.a)(Object(ue.a)({},l),{},Object(je.a)({},e.target.name,e.target.value)))};return a?Object(M.jsx)(P.c,{to:"/"}):Object(M.jsxs)("div",{children:[Object(M.jsx)(Z.a,{className:"btn btn-dark my-3",size:"md",block:!0,children:"Se Connceter"}),Object(M.jsx)("div",{Style:"display: none;",children:s?setTimeout((function(){n()}),1e4):null}),s&&Object(M.jsx)(be,{variant:"danger",children:s}),Object(M.jsxs)(pe.a,{onSubmit:function(e){return function(e){e.preventDefault(),t(j,u)}(e)},children:[Object(M.jsxs)(pe.a.Group,{controlId:"formBasicEmail",children:[Object(M.jsx)(pe.a.Label,{children:"Email "}),Object(M.jsx)(pe.a.Control,{type:"email",placeholder:"Enter email",name:"email",value:j,onChange:function(e){return p(e)},required:!0}),Object(M.jsx)(pe.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(M.jsxs)(pe.a.Group,{controlId:"formBasicPassword",children:[Object(M.jsx)(pe.a.Label,{children:"Mot de passe"}),Object(M.jsx)(pe.a.Control,{type:"password",placeholder:"Password",name:"password",value:u,onChange:function(e){return p(e)},minLength:"6",required:!0})]}),Object(M.jsx)(Z.a,{variant:"primary",type:"submit",children:"Submit"})]}),Object(M.jsxs)("p",{className:"mt-3",children:["ouvrir un nouveau compte ? ",Object(M.jsx)(X.Link,{to:"/signup",children:"S'inscrire"})]}),Object(M.jsxs)("p",{className:"mt-3",children:["mot de passe oubli\xe9 ? ",Object(M.jsx)(X.Link,{to:"/reset-password",children:"R\xe9nitialiser le mot de passe"})]})]})}));var Oe=Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.auth.error,message:e.auth.message}}),{signup:function(e,t,a,r){return function(){var s=Object(b.a)(m.a.mark((function s(n){var c,i;return m.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return c={headers:{"Content-Type":"application/json"}},i=JSON.stringify({username:e,email:t,password:a,re_password:r}),s.prev=2,s.next=5,O.a.post("".concat("http://localhost:8000","/auth/users/"),i,c);case 5:s.sent,n({type:E,payload:"votre compte a bien \xe9t\xe9 cr\xe9e v\xe9rifier votre adress mail pour l'activer!"}),s.next=13;break;case 9:s.prev=9,s.t0=s.catch(2),[],n({type:R,payload:s.t0.response&&s.t0.response.data?Object.values(s.t0.response.data).flat().join():s.t0.message});case 13:case"end":return s.stop()}}),s,null,[[2,9]])})));return function(e){return s.apply(this,arguments)}}()},delete_err:B,delete_msg:F,create_msg:W,create_err:G})((function(e){var t=e.signup,a=e.isAuthenticated,s=e.error,n=e.message,c=e.delete_err,o=e.delete_msg,l=(e.create_msg,e.create_err),d=Object(r.useState)(!1),j=Object(i.a)(d,2),u=(j[0],j[1]),p=Object(r.useState)({username:"",email:"",password:"",re_password:""}),m=Object(i.a)(p,2),b=m[0],h=m[1],O=b.username,x=b.email,g=b.password,f=b.re_password,v=function(e){return h(Object(ue.a)(Object(ue.a)({},b),{},Object(je.a)({},e.target.name,e.target.value)))};return a?Object(M.jsx)(P.c,{to:"/"}):Object(M.jsxs)("div",{children:[Object(M.jsx)(Z.a,{className:"btn btn-dark my-3",size:"md",block:!0,children:"Cr\xe9ation d'un nouveau compte"}),Object(M.jsx)("div",{Style:"display: none;",children:s?setTimeout((function(){c()}),1e4):null}),Object(M.jsx)("div",{Style:"display: none;",children:n?setTimeout((function(){o()}),1e4):null}),s&&Object(M.jsx)(be,{variant:"danger",children:s}),n&&Object(M.jsx)(be,{variant:"success",children:n}),Object(M.jsxs)(pe.a,{onSubmit:function(e){return function(e){e.preventDefault(),g===f?(t(O,x,g,f),u(!0)):l("les deux mot de passe doivent etre egaux")}(e)},children:[Object(M.jsxs)(pe.a.Group,{controlId:"formBasicUserName",children:[Object(M.jsx)(pe.a.Label,{children:"Nom d'utilisateur "}),Object(M.jsx)(pe.a.Control,{type:"text",placeholder:"username*",name:"username",value:O,onChange:function(e){return v(e)},required:!0}),Object(M.jsx)(pe.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(M.jsxs)(pe.a.Group,{controlId:"formBasicEmail",children:[Object(M.jsx)(pe.a.Label,{children:"Email "}),Object(M.jsx)(pe.a.Control,{type:"email",placeholder:"Enter email*",name:"email",value:x,onChange:function(e){return v(e)},required:!0}),Object(M.jsx)(pe.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(M.jsxs)(pe.a.Group,{controlId:"formBasicPassword",children:[Object(M.jsx)(pe.a.Label,{children:"Mot de passe "}),Object(M.jsx)(pe.a.Control,{type:"password",placeholder:"Password*",name:"password",value:g,onChange:function(e){return v(e)},minLength:"6",required:!0})]}),Object(M.jsxs)(pe.a.Group,{controlId:"formBasicPassword",children:[Object(M.jsx)(pe.a.Label,{children:"Confirmation du nouveau mot de passe"}),Object(M.jsx)(pe.a.Control,{type:"password",placeholder:"Confirm Password*",name:"re_password",value:f,onChange:function(e){return v(e)},minLength:"6",required:!0})]}),Object(M.jsx)(Z.a,{variant:"primary",type:"submit",children:"Cr\xe9ez votre mot de passe"})]})]})})),xe=a(77);a(125);var ge=Object(u.b)((function(e){return{error:e.auth.error,message:e.auth.message}}),{reset_password:function(e){return function(){var t=Object(b.a)(m.a.mark((function t(a){var r,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={headers:{"Content-Type":"application/json"}},s=JSON.stringify({email:e}),t.prev=2,t.next=5,O.a.post("".concat("http://localhost:8000","/auth/users/reset_password/"),s,r);case 5:a({type:N,payload:"v\xe9rifier votre mail!"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),a({type:_,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}()},delete_err:B,delete_msg:F})((function(e){var t=e.reset_password,a=e.error,s=e.message,n=e.delete_err,c=e.delete_msg,o=Object(r.useState)(!1),l=Object(i.a)(o,2),d=(l[0],l[1]),j=Object(r.useState)({email:""}),u=Object(i.a)(j,2),p=u[0],m=u[1],b=p.email;return Object(M.jsxs)("div",{children:[Object(M.jsx)(Z.a,{className:"btn btn-dark my-3",size:"md",block:!0,children:"R\xe9netialiser le mot de passe"}),Object(M.jsx)("div",{Style:"display: none;",children:a?setTimeout((function(){n()}),1e4):null}),Object(M.jsx)("div",{Style:"display: none;",children:s?setTimeout((function(){c()}),1e4):null}),a&&Object(M.jsx)(be,{variant:"danger",children:a}),s&&Object(M.jsx)(be,{variant:"success",children:s}),Object(M.jsxs)(pe.a,{onSubmit:function(e){return function(e){e.preventDefault(),t(b),d(!0)}(e)},children:[Object(M.jsxs)(pe.a.Group,{controlId:"formBasicEmail",children:[Object(M.jsx)(pe.a.Label,{children:"Email "}),Object(M.jsx)(pe.a.Control,{type:"email",placeholder:"Enter email",name:"email",value:b,onChange:function(e){return function(e){return m(Object(ue.a)(Object(ue.a)({},p),{},Object(je.a)({},e.target.name,e.target.value)))}(e)},required:!0}),Object(M.jsx)(pe.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(M.jsx)(Z.a,{variant:"primary",type:"submit",children:"R\xe9nitialiser le mot de passe"})]}),Object(M.jsx)(xe.a,{})]})}));var fe=Object(u.b)((function(e){return{error:e.auth.error,message:e.auth.message}}),{reset_password_confirm:function(e,t,a,r){return function(){var s=Object(b.a)(m.a.mark((function s(n){var c,i;return m.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return c={headers:{"Content-Type":"application/json"}},i=JSON.stringify({uid:e,token:t,new_password:a,re_new_password:r}),s.prev=2,s.next=5,O.a.post("".concat("http://localhost:8000","/auth/users/reset_password_confirm/"),i,c);case 5:n({type:C,payload:"v\xe9rifier votre mail!"}),s.next=11;break;case 8:s.prev=8,s.t0=s.catch(2),n({type:k,payload:s.t0.response&&s.t0.response.data.detail?s.t0.response.data.detail:s.t0.message});case 11:case"end":return s.stop()}}),s,null,[[2,8]])})));return function(e){return s.apply(this,arguments)}}()},delete_err:B,delete_msg:F,create_msg:W,create_err:G})((function(e){var t=e.match,a=e.reset_password_confirm,s=e.error,n=e.message,c=e.delete_err,o=e.delete_msg,l=(e.create_msg,e.create_err),d=Object(r.useState)(!1),j=Object(i.a)(d,2),u=(j[0],j[1]),p=Object(r.useState)({new_password:"",re_new_password:""}),m=Object(i.a)(p,2),b=m[0],h=m[1],O=b.new_password,x=b.re_new_password,g=function(e){return h(Object(ue.a)(Object(ue.a)({},b),{},Object(je.a)({},e.target.name,e.target.value)))};return Object(M.jsxs)("div",{children:[Object(M.jsx)(Z.a,{className:"btn btn-dark my-3",size:"md",block:!0,children:"Confirmation de R\xe9netialiser le mot de passe"}),Object(M.jsx)("div",{Style:"display: none;",children:s?setTimeout((function(){c()}),1e4):null}),Object(M.jsx)("div",{Style:"display: none;",children:n?setTimeout((function(){o()}),1e4):null}),s&&Object(M.jsx)(be,{variant:"danger",children:s}),n&&Object(M.jsx)(be,{variant:"success",children:n}),Object(M.jsxs)(pe.a,{onSubmit:function(e){return function(e){e.preventDefault();var r=t.params.uid,s=t.params.token;O===x?(a(r,s,O,x),u(!0)):l("les deux mot de passe doivent etre egaux")}(e)},children:[Object(M.jsxs)(pe.a.Group,{controlId:"formBasicPassword",children:[Object(M.jsx)(pe.a.Label,{children:"Nouveau mot de passe "}),Object(M.jsx)(pe.a.Control,{type:"password",placeholder:"New Password",name:"new_password",value:O,onChange:function(e){return g(e)},minLength:"6",required:!0})]}),Object(M.jsxs)(pe.a.Group,{controlId:"formBasicPassword",children:[Object(M.jsx)(pe.a.Label,{children:"Confirmation du nouveau mot de passe"}),Object(M.jsx)(pe.a.Control,{type:"password",placeholder:"Confirm New Password",name:"re_new_password",value:x,onChange:function(e){return g(e)},minLength:"6",required:!0})]}),Object(M.jsx)(Z.a,{variant:"primary",type:"submit",children:"R\xe9nitialiser le mot de passe"})]})]})}));var ve=Object(u.b)(null,{verify:function(e,t){return function(){var a=Object(b.a)(m.a.mark((function a(r){var s,n;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s={headers:{"Content-Type":"application/json"}},n=JSON.stringify({uid:e,token:t}),a.prev=2,a.next=5,O.a.post("".concat("http://localhost:8000","/auth/users/activation/"),n,s);case 5:r({type:"ACTIVATION_SUCCESS"}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(2),r({type:"ACTIVATION_FAIL"});case 11:case"end":return a.stop()}}),a,null,[[2,8]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.verify,a=e.match,s=Object(r.useState)(!1),n=Object(i.a)(s,2),c=n[0],o=n[1];return c?Object(M.jsx)(P.c,{to:"/login"}):Object(M.jsx)("div",{children:Object(M.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",style:{marginTop:"200px"},children:[Object(M.jsx)("h1",{children:"Verifiez votre compte:"}),Object(M.jsx)(Z.a,{variant:"primary",onClick:function(e){var r=a.params.uid,s=a.params.token;t(r,s),o(!0)},style:{marginTop:"50px"},type:"button",children:"V\xe9rifier"})]})})})),ye=Object(u.b)(null,{checkAuthenticated:function(){return function(){var e=Object(b.a)(m.a.mark((function e(t){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access")){e.next=15;break}return a={headers:{"Content-Type":"application/json",Accept:"application/json"}},r=JSON.stringify({token:localStorage.getItem("access")}),e.prev=3,e.next=6,O.a.post("".concat("http://localhost:8000","/auth/jwt/verify/"),r,a);case 6:"token_not_valid"!==e.sent.data.code?t({type:y}):t({type:w}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t({type:w});case 13:e.next=16;break;case 15:t({type:w});case 16:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},load_user:D})((function(e){var t=e.checkAuthenticated,a=e.load_user,s=e.children;return Object(r.useEffect)((function(){t(),a()}),[]),Object(M.jsxs)("div",{children:[Object(M.jsx)(U,{}),Object(M.jsx)("main",{className:"py-3",children:Object(M.jsx)(d.a,{children:s})}),Object(M.jsx)(J,{})]})})),we=a(39),Se=a(75),_e=a(76),Ne={access:localStorage.getItem("access"),refresh:localStorage.getItem("refresh"),isAuthenticated:null,user:null,error:null,message:null},ke=Object(we.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case x:return localStorage.setItem("access",r.access),localStorage.setItem("refresh",r.refresh),Object(ue.a)(Object(ue.a)({},e),{},{isAuthenticated:!0,access:r.access,refresh:r.refresh,error:null});case f:return Object(ue.a)(Object(ue.a)({},e),{},{user:r});case v:return Object(ue.a)(Object(ue.a)({},e),{},{user:null});case g:return localStorage.removeItem("access"),localStorage.removeItem("refresh"),Object(ue.a)(Object(ue.a)({},e),{},{access:null,refresh:null,isAuthenticated:!1,user:null,error:t.payload});case y:return Object(ue.a)(Object(ue.a)({},e),{},{isAuthenticated:!0});case w:return Object(ue.a)(Object(ue.a)({},e),{},{isAuthenticated:!1});case S:return localStorage.removeItem("access"),localStorage.removeItem("refresh"),Object(ue.a)(Object(ue.a)({},e),{},{access:null,refresh:null,isAuthenticated:!1,user:null,error:null});case N:case C:return Object(ue.a)(Object(ue.a)({},e),{},{message:t.payload});case _:case k:return Object(ue.a)(Object(ue.a)({},e),{},{error:t.payload});case A:return Object(ue.a)(Object(ue.a)({},e),{},{message:null});case L:return Object(ue.a)(Object(ue.a)({},e),{},{error:null});case T:return Object(ue.a)(Object(ue.a)({},e),{},{message:t.payload});case I:return Object(ue.a)(Object(ue.a)({},e),{},{error:t.payload});case E:return Object(ue.a)(Object(ue.a)({},e),{},{isAuthenticated:!1,message:t.payload});case R:return localStorage.removeItem("access"),localStorage.removeItem("refresh"),Object(ue.a)(Object(ue.a)({},e),{},{access:null,refresh:null,isAuthenticated:!1,user:null,error:t.payload});default:return e}}}),Ce=[_e.a],Ae=Object(we.createStore)(ke,{},Object(Se.composeWithDevTools)(we.applyMiddleware.apply(void 0,Ce)));var Le=function(){return Object(M.jsx)(u.a,{store:Ae,children:Object(M.jsx)(X.BrowserRouter,{children:Object(M.jsx)(ye,{children:Object(M.jsxs)(P.g,{children:[Object(M.jsx)(P.d,{path:"/",component:$,exact:!0}),Object(M.jsx)(P.d,{path:"/magasin/:id",component:de}),Object(M.jsx)(P.d,{path:"/login",component:he}),Object(M.jsx)(P.d,{path:"/activate/:uid/:token",component:ve}),Object(M.jsx)(P.d,{path:"/signup",component:Oe}),Object(M.jsx)(P.d,{path:"/reset-password",component:ge}),Object(M.jsx)(P.d,{path:"/password/reset/confirm/:uid/:token",component:fe})]})})})})},Te=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,145)).then((function(t){var a=t.getCLS,r=t.getFID,s=t.getFCP,n=t.getLCP,c=t.getTTFB;a(e),r(e),s(e),n(e),c(e)}))};a(126);c.a.render(Object(M.jsx)(s.a.StrictMode,{children:Object(M.jsx)(Le,{})}),document.getElementById("root")),Te()},83:function(e,t,a){},84:function(e,t,a){}},[[127,1,2]]]);
//# sourceMappingURL=main.6ccf4b58.chunk.js.map