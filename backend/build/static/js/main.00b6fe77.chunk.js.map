{"version":3,"sources":["actions/types.js","actions/auth.js","components/SearchBox.js","components/Header.js","components/Footer.js","components/Rating.js","components/Magasin.js","components/CarouselHome.js","components/Loader.js","components/Message.js","components/Paginate.js","actions/mag.js","screens/HomeScreen.js","components/Produit.js","screens/ShopScreen.js","screens/Login.js","screens/SignUp.js","screens/ResetPassword.js","screens/ResetPasswordConfirm.js","screens/Activate.js","screens/CreateMagasin.js","screens/UpdateMagasin.js","screens/CreateProduit.js","components/MagasinMarchant.js","screens/MagasinList.js","components/ProduitMarchant.js","screens/ShopMarchantScreen.js","hocs/layout.js","reducers/auth.js","reducers/index.js","reducers/mag.js","store.js","App.js","reportWebVitals.js","index.js"],"names":["LOGIN_SUCCESS","LOGIN_FAIL","USER_LOADED_SUCCESS","USER_LOADED_FAIL","AUTHENTICATED_SUCCESS","AUTHENTICATED_FAIL","LOGOUT","PASSWORD_RESET_FAIL","PASSWORD_RESET_SUCCESS","PASSWORD_RESET_CONFIRM_FAIL","PASSWORD_RESET_CONFIRM_SUCCESS","DELETE_MESSAGE","DELETE_ERROR","CREATE_MESSAGE","CREATE_ERROR","SIGNUP_SUCCESS","SIGNUP_FAIL","MAGASIN_LIST_REQUEST","MAGASIN_LIST_SUCCESS","MAGASIN_LIST_FAIL","MAGASIN_DETAILS_REQUEST","MAGASIN_DETAILS_SUCCESS","MAGASIN_DETAILS_FAIL","MAGASIN_CREATE_REVIEW_REQUEST","MAGASIN_CREATE_REVIEW_SUCCESS","MAGASIN_CREATE_REVIEW_FAIL","MAGASIN_CREATE_REVIEW_RESET","DELETE_MESSAGE_MAG","DELETE_ERROR_MAG","MAGASIN_CREATE_VISITE_REQUEST","MAGASIN_CREATE_VISITE_SUCCESS","MAGASIN_CREATE_VISITE_FAIL","MAGASIN_CREATE_VISITE_RESET","MAGASINMarchant_LIST_REQUEST","MAGASINMarchant_LIST_SUCCESS","MAGASINMarchant_LIST_FAIL","MAGASIN_CREATE_REQUETE_REQUEST","MAGASIN_CREATE_REQUETE_SUCCESS","MAGASIN_CREATE_REQUETE_FAIL","MAGASIN_CREATE_REQUETE_RESET","load_user","dispatch","a","localStorage","getItem","config","headers","axios","get","process","res","type","payload","data","delete_msg","delete_err","create_msg","msg","create_err","err","SearchBox","useState","keyword","setKeyword","history","useHistory","Form","onSubmit","e","preventDefault","push","location","pathname","inline","Control","name","onChange","target","value","className","Button","variant","connect","state","isAuthenticated","auth","user","logout","redirect","setRedirect","logout_user","Navbar","bg","expand","collapseOnSelect","Container","to","Brand","Toggle","aria-controls","Collapse","Nav","href","class","username","is_merchant","Link","onClick","Footer","Row","Col","Rating","text","color","style","Magasin","magasin","Card","_id","Img","height","src","image","Body","Title","as","nom","categorie","Text","rating","numReviews","commune","wilaya","adresse","CarouselHome","Carousel","Item","interval","alt","Caption","Loader","Spinner","animation","role","width","margin","display","Message","children","Alert","Paginate","pages","page","screen","split","first","setFirst","last","setLast","Pagination","marginTop","First","Array","keys","slice","map","x","active","Last","listMagasinDetails","id","response","detail","message","responsive","superLargeDesktop","breakpoint","max","min","items","desktop","tablet","mobile","HomeScreen","match","useDispatch","magasinList","useSelector","error","loading","magasins","rec1","rec2","search","useEffect","req","k","pop","undefined","replace","JSON","parse","trim","toLowerCase","post","listMagasins","size","block","sm","md","lg","xl","length","m","mag","Produit","produit","produit_nom","prix","delete_msgMag","delete_errMag","setRating","comment","setComment","magasinDetails","numItems","setnumItems","magasinReviewCreate","loadingMagasinReview","errorMagasinReview","successMagasinReview","success","listen","params","vis","includes","setItem","stringify","magasinId","getState","createMagasinRequete","goBack","Image","fluid","border","Header","ListGroup","telephone","overture","fermeture","produits","MapContainer","center","latitude","longitude","zoom","scrollWheelZoom","TileLayer","attribution","url","Marker","position","Popup","reviews","review","Authorization","Group","controlId","Label","required","row","disabled","date_created","substring","recommendations","login","email","password","body","formData","setFormData","Style","setTimeout","placeholder","minLength","signup","re_password","Object","values","flat","join","setAccountCreated","reset_password","setRequestSent","reset_password_confirm","uid","token","new_password","re_new_password","verify","verified","setVerified","wilayas","setWilayas","categories","setCategories","communes","setCommunes","setDisplay","setError","transformInToFormObject","FormData","key","isArray","forEach","obj","index","keyItem","keyName","append","innerKey","uploading","setUploading","form","uploadFileHandler","file","files","then","catch","console","log","readonly","File","label","custom","errorr","setErrorr","put","inputmode","setProduits","nouveauproduit","pattern","step","maxlength","validate","MagasinMarchant","magasinListMarchant","pageNum","listMagasinsmarchant","ProduitMarchant","setPrix","delete_Produit","window","confirm","delete","update_Produit","delete_Magasin","checkAuthenticated","code","scrollTo","initialState","access","refresh","combineReducers","action","removeItem","magasinVisiteCreate","magasinRequeteCreate","middleware","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","App","path","component","exact","ShopScreen","Login","Activate","SignUp","ResetPassword","ResetPasswordConfirm","CreateMagasin","UpdateMagasin","MagasinList","ShopMarchantScreen","CreateProduit","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.00b6fe77.chunk.js","sourcesContent":["export const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nexport const LOGIN_FAIL = 'LOGIN_FAIL';\r\nexport const USER_LOADED_SUCCESS = 'USER_LOADED_SUCCESS';\r\nexport const USER_LOADED_FAIL = 'USER_LOADED_FAIL';\r\nexport const AUTHENTICATED_SUCCESS = 'AUTHENTICATED_SUCCESS';\r\nexport const AUTHENTICATED_FAIL = 'AUTHENTICATED_FAIL';\r\nexport const LOGOUT = 'LOGOUT';\r\nexport const PASSWORD_RESET_FAIL = 'PASSWORD_RESET_FAIL';\r\nexport const PASSWORD_RESET_SUCCESS = 'PASSWORD_RESET_SUCCESS';\r\nexport const PASSWORD_RESET_CONFIRM_FAIL = 'PASSWORD_RESET_CONFIRM_FAIL';\r\nexport const PASSWORD_RESET_CONFIRM_SUCCESS = 'PASSWORD_RESET_CONFIRM_SUCCESS';\r\nexport const DELETE_MESSAGE='DELETE_MESSAGE';\r\nexport const DELETE_ERROR='DELETE_ERROR';\r\nexport const CREATE_MESSAGE='CREATE_MESSAGE';\r\nexport const CREATE_ERROR='CREATE_ERROR';\r\nexport const SIGNUP_SUCCESS = 'SIGNUP_SUCCESS';\r\nexport const SIGNUP_FAIL = 'SIGNUP_FAIL';\r\nexport const ACTIVATION_SUCCESS = 'ACTIVATION_SUCCESS';\r\nexport const ACTIVATION_FAIL = 'ACTIVATION_FAIL';\r\n//magasins\r\nexport const MAGASIN_LIST_REQUEST = 'MAGASIN_LIST_REQUEST'\r\nexport const MAGASIN_LIST_SUCCESS = 'MAGASIN_LIST_SUCCESS'\r\nexport const MAGASIN_LIST_FAIL = 'MAGASIN_LIST_FAIL'\r\n\r\n//magasin/details\r\nexport const MAGASIN_DETAILS_REQUEST = 'MAGASIN_DETAILS_REQUEST'\r\nexport const MAGASIN_DETAILS_SUCCESS = 'MAGASIN_DETAILS_SUCCESS'\r\nexport const MAGASIN_DETAILS_FAIL = 'MAGASIN_DETAILS_FAIL'\r\n//ajouter avis\r\nexport const MAGASIN_CREATE_REVIEW_REQUEST = 'MAGASIN_CREATE_REVIEW_REQUEST'\r\nexport const MAGASIN_CREATE_REVIEW_SUCCESS = 'MAGASIN_CREATE_REVIEW_SUCCESS'\r\nexport const MAGASIN_CREATE_REVIEW_FAIL = 'MAGASIN_CREATE_REVIEW_FAIL'\r\nexport const MAGASIN_CREATE_REVIEW_RESET = 'MAGASIN_CREATE_REVIEW_RESET'\r\n//err msg mag\r\nexport const DELETE_MESSAGE_MAG='DELETE_MESSAGE_MAG'\r\nexport const DELETE_ERROR_MAG='DELETE_ERROR_MAG'\r\n//ajouter visite\r\n//ajouter avis\r\nexport const MAGASIN_CREATE_VISITE_REQUEST = 'MAGASIN_CREATE_VISITE_REQUEST'\r\nexport const MAGASIN_CREATE_VISITE_SUCCESS = 'MAGASIN_CREATE_VISITE_SUCCESS'\r\nexport const MAGASIN_CREATE_VISITE_FAIL = 'MAGASIN_CREATE_VISITE_FAIL'\r\nexport const MAGASIN_CREATE_VISITE_RESET = 'MAGASIN_CREATE_VISITE_RESET'\r\n\r\n//list marchant\r\nexport const MAGASINMarchant_LIST_REQUEST='MAGASINMarchant_LIST_REQUEST'\r\nexport const MAGASINMarchant_LIST_SUCCESS='MAGASINMarchant_LIST_SUCCESS'\r\nexport const MAGASINMarchant_LIST_FAIL='MAGASINMarchant_LIST_FAIL'\r\n\r\n\r\n//ajout requete\r\n//ajouter avis\r\nexport const MAGASIN_CREATE_REQUETE_REQUEST = 'MAGASIN_CREATE_REQUETE_REQUEST'\r\nexport const MAGASIN_CREATE_REQUETE_SUCCESS = 'MAGASIN_CREATE_REQUETE_SUCCESS'\r\nexport const MAGASIN_CREATE_REQUETE_FAIL = 'MAGASIN_CREATE_REQUETE_FAIL'\r\nexport const MAGASIN_CREATE_REQUETE_RESET = 'MAGASIN_CREATE_REQUETE_RESET'\r\n","import axios from 'axios';\r\nimport {\r\n    LOGIN_SUCCESS,\r\n    LOGIN_FAIL,\r\n    USER_LOADED_SUCCESS,\r\n    USER_LOADED_FAIL,\r\n    AUTHENTICATED_SUCCESS,\r\n    AUTHENTICATED_FAIL,\r\n    LOGOUT,\r\n    PASSWORD_RESET_SUCCESS,\r\n    PASSWORD_RESET_FAIL,\r\n    PASSWORD_RESET_CONFIRM_SUCCESS,\r\n    PASSWORD_RESET_CONFIRM_FAIL,\r\n    DELETE_MESSAGE,\r\n    DELETE_ERROR,\r\n  CREATE_MESSAGE,\r\n CREATE_ERROR,\r\n    SIGNUP_SUCCESS,\r\n    SIGNUP_FAIL,\r\n    ACTIVATION_SUCCESS,\r\n    ACTIVATION_FAIL\r\n} from './types';\r\n\r\nexport const load_user = () => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n                'Accept': 'application/json'\r\n            }\r\n        }; \r\n\r\n        try {\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/auth/users/me/`, config);\r\n    \r\n            dispatch({\r\n                type: USER_LOADED_SUCCESS,\r\n                payload: res.data\r\n            });\r\n        } catch (err) {\r\n            dispatch({\r\n                type: USER_LOADED_FAIL\r\n            });\r\n        }\r\n    } else {\r\n        dispatch({\r\n            type: USER_LOADED_FAIL\r\n        });\r\n    }\r\n};\r\n\r\n//login\r\nexport const login = (email, password) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    };\r\n\r\n    const body = JSON.stringify({ email, password });\r\n\r\n    try {\r\n        const res = await axios.post(`${process.env.REACT_APP_API_URL}/auth/jwt/create/`, body, config);\r\n\r\n        dispatch({\r\n            type: LOGIN_SUCCESS,\r\n            payload: res.data\r\n        });\r\n\r\n        dispatch(load_user());\r\n    } catch (error) {\r\n        dispatch({\r\n            type: LOGIN_FAIL,\r\n            payload:  error.response && error.response.data.detail\r\n            ? error.response.data.detail\r\n            : error.message,\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const checkAuthenticated = () => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json'\r\n            }\r\n        }; \r\n\r\n        const body = JSON.stringify({ token: localStorage.getItem('access') });\r\n\r\n        try {\r\n            const res = await axios.post(`${process.env.REACT_APP_API_URL}/auth/jwt/verify/`, body, config)\r\n\r\n            if (res.data.code !== 'token_not_valid') {\r\n                dispatch({\r\n                    type: AUTHENTICATED_SUCCESS\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: AUTHENTICATED_FAIL\r\n                });\r\n            }\r\n        } catch (err) {\r\n            dispatch({\r\n                type: AUTHENTICATED_FAIL\r\n            });\r\n        }\r\n\r\n    } else {\r\n        dispatch({\r\n            type: AUTHENTICATED_FAIL\r\n        });\r\n    }\r\n};\r\n\r\n\r\nexport const logout = () => dispatch => {\r\n    dispatch({\r\n        type: LOGOUT\r\n    });\r\n};\r\n\r\n\r\n//sign up\r\n\r\nexport const signup = (username, email, password, re_password) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    };\r\n\r\n    const body = JSON.stringify({username, email, password, re_password });\r\n\r\n    try {\r\n        const res = await axios.post(`${process.env.REACT_APP_API_URL}/auth/users/`, body, config);\r\n       \r\n        dispatch({\r\n            type: SIGNUP_SUCCESS,\r\n            payload: \"votre compte a bien été crée vérifier votre adress mail pour l'activer!\"\r\n        });\r\n    } catch (error) {\r\n        var sttr = [];\r\n        dispatch({\r\n            type: SIGNUP_FAIL,\r\n            payload:   error.response && error.response.data\r\n            ?   Object.values(error.response.data).flat().join()\r\n            : error.message,\r\n            \r\n          \r\n\r\n         \r\n        })\r\n    }\r\n};\r\n\r\nexport const verify = (uid, token) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    };\r\n\r\n    const body = JSON.stringify({ uid, token });\r\n\r\n    try {\r\n        await axios.post(`${process.env.REACT_APP_API_URL}/auth/users/activation/`, body, config);\r\n\r\n        dispatch({\r\n            type: ACTIVATION_SUCCESS,\r\n        });\r\n    } catch (err) {\r\n        dispatch({\r\n            type: ACTIVATION_FAIL\r\n        })\r\n    }\r\n};\r\n\r\n//password  reset\r\nexport const reset_password = (email) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    };\r\n\r\n    const body = JSON.stringify({ email });\r\n\r\n    try {\r\n        await axios.post(`${process.env.REACT_APP_API_URL}/auth/users/reset_password/`, body, config);\r\n\r\n        dispatch({\r\n            type: PASSWORD_RESET_SUCCESS,\r\n            payload:\"vérifier votre mail!\"\r\n        });\r\n    } catch (error) {\r\n        dispatch({\r\n            type: PASSWORD_RESET_FAIL,\r\n            payload:  error.response && error.response.data.detail\r\n            ? error.response.data.detail\r\n            : error.message,\r\n        });\r\n    }\r\n};\r\n\r\nexport const reset_password_confirm = (uid, token, new_password, re_new_password) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    };\r\n\r\n    const body = JSON.stringify({ uid, token, new_password, re_new_password });\r\n\r\n    try {\r\n        await axios.post(`${process.env.REACT_APP_API_URL}/auth/users/reset_password_confirm/`, body, config);\r\n\r\n        dispatch({\r\n            type: PASSWORD_RESET_CONFIRM_SUCCESS,\r\n            payload:\"vérifier votre mail!\"\r\n        });\r\n    } catch (error) {\r\n        dispatch({\r\n            type: PASSWORD_RESET_CONFIRM_FAIL,\r\n            payload:  error.response && error.response.data.detail\r\n            ? error.response.data.detail\r\n            : error.message,\r\n        });\r\n    }\r\n};\r\nexport const delete_msg=() => dispatch => {\r\n    dispatch({\r\n        type: DELETE_MESSAGE\r\n    });\r\n};\r\nexport const delete_err=() => dispatch => {\r\n    dispatch({\r\n        type: DELETE_ERROR\r\n    });\r\n};\r\n\r\nexport const create_msg=(msg) => dispatch => {\r\n    dispatch({\r\n        type: CREATE_MESSAGE,\r\n        payload: msg\r\n    });\r\n};\r\nexport const create_err=(err) => dispatch => {\r\n    dispatch({\r\n        type: CREATE_ERROR,\r\n        payload:err\r\n    });\r\n};","import React, { useState } from 'react'\nimport { Button, Form } from 'react-bootstrap'\nimport { useHistory } from 'react-router-dom'\n\nfunction SearchBox() {\n    const [keyword, setKeyword] = useState('')\n\n    let history = useHistory()\n\n    const submitHandler = (e) => {\n        e.preventDefault()\n        if (keyword) {\n            history.push(`/?keyword=${keyword}&page=1`)\n        } else {\n           \n            history.push(history.push(history.location.pathname))\n        }\n    }\n    return (\n        <Form onSubmit={submitHandler} inline>\n            <Form.Control\n                type='text'\n                name='q'\n                onChange={(e) => setKeyword(e.target.value)}\n                className='mr-sm-2 ml-sm-5'\n            ></Form.Control>\n\n            <Button\n                type='submit'\n                variant='outline-success'\n                className='p-2'\n            >\n                Submit\n            </Button>\n        </Form>\n    )\n}\n\nexport default SearchBox\n","//using ES7 React/Redux/GraphQL/React-Native snippets we call rfce to have a react functional component\r\nimport React, { Fragment, useState } from 'react'\r\nimport { Navbar,Nav,Container,Row  } from 'react-bootstrap'\r\nimport {LinkContainer} from 'react-router-bootstrap'\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../actions/auth'\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport SearchBox from './SearchBox'\r\n//gett icons from here https://cdnjs.com/ and then copy font awsome tag ling in index.html\r\n//user icon https://fontawesome.com/icons/user?style=solid\r\nfunction Header({ logout, isAuthenticated ,user}) {\r\n  const [redirect, setRedirect] = useState(false);\r\n\r\n  const logout_user = () => {\r\n      logout();\r\n      setRedirect(true);\r\n  };\r\n\r\n  const guestLinks = () => (\r\n      <Fragment   className=\"nav ml-auto\">\r\n          <li className='nav-item '  >\r\n            <LinkContainer to=\"/login\">\r\n          <Nav.Link ><i className=\"fas fa-user\"></i>Se connecter</Nav.Link>\r\n          </LinkContainer>\r\n          </li>\r\n          <li className='nav-item'>\r\n          <LinkContainer to=\"/signup\">\r\n          <Nav.Link ><i class=\"fas fa-user-plus\"></i>S'inscrire</Nav.Link>\r\n          </LinkContainer>\r\n          </li>\r\n      </Fragment>\r\n  );\r\n\r\n  const authLinks = () => (\r\n    <Fragment  className=\"nav ml-auto\">\r\n   \r\n      <li className='nav-item'>\r\n          <a className='nav-link' href='#!' ><i class=\"fas fa-user\"></i>{user?user.username:\"\"}</a>\r\n      </li>\r\n      {user&&user.is_merchant?<li className='nav-item'>\r\n      <LinkContainer to=\"/marchant/magasinslist\">\r\n          <Nav.Link ><i class=\"fas fa-store\"></i>vos magasins</Nav.Link>\r\n          </LinkContainer>\r\n      </li>\r\n       :<li className='nav-item'>\r\n    <LinkContainer to=\"/create-magasin\">\r\n          <Nav.Link ><i class=\"fas fa-plus-square\"></i>crée mgasin</Nav.Link>\r\n          </LinkContainer>\r\n  </li>}\r\n      <li className='nav-item'>\r\n    <a className='nav-link' href='/' onClick={logout_user}><i class=\"fas fa-sign-out-alt\"></i>Logout</a>\r\n</li>\r\n      </Fragment>\r\n\r\n  );\r\n    return (\r\n        <header>\r\n        \r\n\r\n            <Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\" collapseOnSelect>\r\n                <Container>\r\n                <LinkContainer to=\"/\">\r\n  <Navbar.Brand >ShopsDz</Navbar.Brand>\r\n  </LinkContainer>\r\n  <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n  <Navbar.Collapse  className=\"justify-content-start\">\r\n  <SearchBox />\r\n    <Nav className= \"ml-auto\">\r\n    {isAuthenticated ? authLinks() : guestLinks()}\r\n\r\n      \r\n    </Nav>\r\n   \r\n  </Navbar.Collapse>\r\n  </Container>\r\n</Navbar>\r\n{redirect ? <Redirect to='/' /> : <Fragment></Fragment>}\r\n            </header>\r\n      \r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: state.auth.isAuthenticated,\r\n  user:state.auth.user\r\n});\r\n\r\nexport default connect(mapStateToProps, { logout })(Header);\r\n\r\n","import React from 'react'\r\nimport {Container,Col,Row,Button  } from 'react-bootstrap'\r\nfunction Footer() {\r\n    return (\r\n        <footer className=' my-0 bg-dark text-white'>\r\n           \r\n\r\n            <Container bg=\"dark\" variant=\"dark\" expand=\"lg\">\r\n                \r\n                <Row bg=\"dark\">\r\n              <Col className=\"text-center py-3\" bg=\"dark\">\r\n                Copyright &copy; ShopsDZ\r\n                </Col>\r\n                </Row>\r\n               </Container>\r\n            \r\n       \r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer\r\n","import React from 'react'\r\n\r\nfunction Rating({ value, text, color }) {\r\n    return (\r\n        <div className=\"rating\">\r\n            <span>\r\n                <i style={{ color }} className={\r\n                    value >= 1\r\n                        ? 'fas fa-star'\r\n                        : value >= 0.5\r\n                            ? 'fas fa-star-half-alt'\r\n                            : 'far fa-star'\r\n                }>\r\n\r\n                </i>\r\n            </span>\r\n\r\n            <span>\r\n                <i style={{ color }} className={\r\n                    value >= 2\r\n                        ? 'fas fa-star'\r\n                        : value >= 1.5\r\n                            ? 'fas fa-star-half-alt'\r\n                            : 'far fa-star'\r\n                }>\r\n\r\n                </i>\r\n            </span>\r\n\r\n            <span>\r\n                <i style={{ color }} className={\r\n                    value >= 3\r\n                        ? 'fas fa-star'\r\n                        : value >= 2.5\r\n                            ? 'fas fa-star-half-alt'\r\n                            : 'far fa-star'\r\n                }>\r\n\r\n                </i>\r\n            </span>\r\n\r\n            <span>\r\n                <i style={{ color }} className={\r\n                    value >= 4\r\n                        ? 'fas fa-star'\r\n                        : value >= 3.5\r\n                            ? 'fas fa-star-half-alt'\r\n                            : 'far fa-star'\r\n                }>\r\n\r\n                </i>\r\n            </span>\r\n\r\n            <span>\r\n                <i style={{ color }} className={\r\n                    value >= 5\r\n                        ? 'fas fa-star'\r\n                        : value >= 4.5\r\n                            ? 'fas fa-star-half-alt'\r\n                            : 'far fa-star'\r\n                }>\r\n\r\n                </i>\r\n            </span>\r\n\r\n            <span>{text && text}</span>\r\n        </div>\r\n    )\r\n} \r\n\r\nexport default Rating\r\n","import React from 'react'\r\nimport { Card} from 'react-bootstrap'\r\nimport Rating from './Rating'\r\nimport {Link} from 'react-router-dom'\r\n//we destractured the magasin prop we could do props.magasin but like this we only do it once\r\nfunction Magasin({magasin,keyword}) {\r\n    return (\r\n        <Card className=\"my-3    rounded    \"  >\r\n            <Link to={`/magasin/${keyword}/${magasin._id}`}>\r\n            <Card.Img style={{ height: '13rem' }} variant=\"top\" src={process.env.REACT_APP_API_URL+'/static'+magasin.image}/></Link>\r\n         <Card.Body>\r\n         <Link to={`/magasin/${keyword}/${magasin._id}`}>\r\n            <Card.Title  as=\"div\">\r\n             <strong>{magasin.nom}</strong>  <p> <strong> {magasin.categorie}</strong></p>\r\n                </Card.Title>\r\n            </Link>\r\n         \r\n            <Card.Text as=\"div\">\r\n                <div className=\"my-3\">\r\n\r\n             <Rating value={magasin.rating} text={`${magasin.numReviews} avis`} color={'#f8e825'}></Rating>\r\n                </div>\r\n            </Card.Text>\r\n            <Card.Text as=\"div\">\r\n                <strong>\r\n            <i class=\"fas fa-map-marker-alt\"></i> <p><strong>{magasin.commune&&magasin.commune.wilaya} {magasin.commune&&magasin.commune.nom} {magasin.adresse}</strong></p>\r\n            </strong>\r\n            </Card.Text>\r\n         </Card.Body>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default Magasin\r\n","import React from 'react'\r\nimport {Col,Row,Carousel,Button  } from 'react-bootstrap'\r\nfunction CarouselHome() {\r\n    return (\r\n  \r\n             <Carousel >\r\n    \r\n    <Carousel.Item interval={5000} style={{height:\"30vw\"}}>\r\n      <img\r\n        className=\"d-block w-100\"\r\n        src={`${process.env.REACT_APP_API_URL}/static/images/slide-1.jpg`}\r\n        alt=\"First slide\"\r\n        style={{height:\"30vw\"}}\r\n      />\r\n       <Carousel.Caption>\r\n        <h1 style={{color:\"silver\"}}> ShopsDZ</h1>\r\n        <p>Bienvenue en Algérie</p>\r\n      </Carousel.Caption>\r\n    </Carousel.Item>\r\n    <Carousel.Item interval={5000} style={{height:\"30vw\"}}>\r\n      <img\r\n        className=\"d-block w-100\"\r\n        src={`${process.env.REACT_APP_API_URL}/static/images/slide-2.jpg`}\r\n        alt=\"Second slide\"\r\n        style={{height:\"30vw\"}}\r\n      />\r\n      \r\n    </Carousel.Item>\r\n    <Carousel.Item style={{height:\"30vw\"}} interval={5000}>\r\n      <img\r\n        className=\"d-block w-100\"\r\n        src={`${process.env.REACT_APP_API_URL}/static/images/slide-3.jpg`}\r\n        alt=\"Third slide\"\r\n        style={{height:\"30vw\"}}\r\n      />\r\n    \r\n    </Carousel.Item>\r\n    \r\n    <Carousel.Item style={{height:\"30vw\"}} interval={5000}>\r\n      <img\r\n        className=\"d-block w-100\"\r\n        src={`${process.env.REACT_APP_API_URL}/static/images/slide-4.jpg`}\r\n        alt=\"Third slide\"\r\n        style={{height:\"30vw\"}}\r\n      />\r\n    \r\n    </Carousel.Item>\r\n  </Carousel>\r\n  \r\n    \r\n    )\r\n}\r\n\r\nexport default CarouselHome\r\n","import React from 'react'\nimport { Spinner } from 'react-bootstrap'\n\nfunction Loader() {\n    return (\n        <Spinner\n            animation='border'\n            role='status'\n            style={{\n                height: '100px',\n                width: '100px',\n                margin: 'auto',\n                display: 'block'\n            }}\n        >\n            <span className='sr-only'>Loading...</span>\n        </Spinner>\n    )\n}\n\nexport default Loader\n","import React from 'react'\nimport { Alert } from 'react-bootstrap'\n\nfunction Message({ variant, children }) {\n    return (\n        <Alert variant={variant}>\n            {children}\n        </Alert>\n    )\n}\n\nexport default Message\n","import React,{useState} from 'react'\nimport { Pagination } from 'react-bootstrap'\nimport { LinkContainer } from 'react-router-bootstrap'\n\nfunction Paginate({ pages, page, keyword = '',screen }) {\n    if (keyword) {\n        keyword = keyword.split('?keyword=')[1].split('&')[0]\n    }\n   const  [first,setFirst]=useState(pages>10?page>10?page-(10)+1:1:page>pages/2?page-(pages/2)+1:1)\n     const [last,setLast]=useState(pages>10?page>10?page:10:page>pages/2?page:pages/2)\n     \n  const firtspage=(e)=>{\n     if(pages>10){\n        if(first>2 && last>10){\n            setFirst(first-1);\n            setLast(last-1);\n        }else{\n            \n          if(last>10){\n              setFirst(first-1);\n              setLast(last-1);\n          }else{\n            setFirst(1)\n          }\n     }}else{\n      if(first>2 && last>pages/2){\n          setFirst(first-1);\n          setLast(last-1);\n      }else{\n          \n        if(last>pages/2){\n            setFirst(first-1);\n            setLast(last-1);\n        }else{\n          setFirst(1)\n        }\n      }\n    }\n  }\n  const lastpage=(e)=>{\n      if(last<pages){\n    setLast(last+1); setFirst(first+1)\n      }\n}\n    return (pages > 1 && (\n        <Pagination   className='d-flex flex-row justify-content-center align-items-center'\n        style={{ marginTop: '20px' }}>\n            <Pagination.First onClick={e=>firtspage(e)}/>\n            {[...Array(pages).keys()].slice(first-1, last).map((x) => (\n                <LinkContainer\n                    key={x + 1}\n                    to={screen==\"home\"?`/?keyword=${keyword}&page=${x + 1}`:screen==\"marchant\"&&`/marchant/magasinslist/?page=${x + 1}`}\n                >\n                    \n                    <Pagination.Item active={x + 1 === page}>{x + 1}</Pagination.Item>\n                    \n                </LinkContainer>\n                \n                \n            ))}\n         <Pagination.Last onClick={e=>lastpage(e)} />\n        </Pagination>\n    )\n    )\n}\n\nexport default Paginate\n","import axios from 'axios'\r\nimport {\r\n    MAGASIN_LIST_REQUEST,\r\n    MAGASIN_LIST_SUCCESS,\r\n    MAGASIN_LIST_FAIL,\r\n    MAGASIN_DETAILS_REQUEST,\r\n    MAGASIN_DETAILS_SUCCESS,\r\n    MAGASIN_DETAILS_FAIL,\r\n    MAGASIN_CREATE_REVIEW_REQUEST,\r\n    MAGASIN_CREATE_REVIEW_SUCCESS,\r\n    MAGASIN_CREATE_REVIEW_FAIL,\r\n    DELETE_MESSAGE_MAG,\r\n    DELETE_ERROR_MAG,\r\n    MAGASIN_CREATE_VISITE_REQUEST,\r\n    MAGASIN_CREATE_VISITE_SUCCESS,\r\n    MAGASIN_CREATE_VISITE_FAIL,\r\n    MAGASINMarchant_LIST_REQUEST,\r\n    MAGASINMarchant_LIST_SUCCESS,\r\n    MAGASINMarchant_LIST_FAIL,\r\n    MAGASIN_CREATE_REQUETE_REQUEST,\r\n    MAGASIN_CREATE_REQUETE_SUCCESS, \r\n    MAGASIN_CREATE_REQUETE_FAIL, \r\n    MAGASIN_CREATE_REQUETE_RESET \r\n\r\n\r\n\r\n} from './types';\r\n\r\nexport const listMagasins = (keyword = '') => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: MAGASIN_LIST_REQUEST })\r\n        let req=[]\r\n        let k=keyword?keyword.split('keyword=').pop().split('&')[0]!==\"\"?keyword.split('keyword=').pop().split('&')[0]:undefined:undefined\r\n        if(keyword&&k&&k!==\"\"){\r\n            \r\n            k=k.replace(\"%20\",\" \")\r\n         req=JSON.parse(localStorage.getItem(k.trim().toLowerCase())) || [];\r\n        }\r\n        const { data } = await axios.post(`${process.env.REACT_APP_API_URL}/api/magasins/${keyword}`,{\"req\":req})\r\n\r\n        dispatch({\r\n            type: MAGASIN_LIST_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: MAGASIN_LIST_FAIL,\r\n            payload: error.response && error.response.data.detail\r\n                ? error.response.data.detail\r\n                : error.message,\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const listMagasinDetails = (id) => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: MAGASIN_DETAILS_REQUEST })\r\n\r\n        const { data } = await axios.get(`${process.env.REACT_APP_API_URL}/api/magasins/${id}/`)\r\n\r\n        dispatch({\r\n            type: MAGASIN_DETAILS_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: MAGASIN_DETAILS_FAIL,\r\n            payload: error.response && error.response.data.detail\r\n                ? error.response.data.detail\r\n                : error.message,\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const createMagasinReview = (magasinId, review) => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: MAGASIN_CREATE_REVIEW_REQUEST\r\n        })\r\n\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                Authorization: `JWT ${localStorage.getItem('access')}`\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.post(\r\n            `${process.env.REACT_APP_API_URL}/api/magasins/${magasinId}/reviews/`,\r\n            review,\r\n            config\r\n        )\r\n        dispatch({\r\n            type: MAGASIN_CREATE_REVIEW_SUCCESS,\r\n            payload: data,\r\n        })\r\n\r\n\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: MAGASIN_CREATE_REVIEW_FAIL,\r\n            payload: error.response && error.response.data.detail\r\n                ? error.response.data.detail\r\n                : error.message,\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const delete_msgMag=() => dispatch => {\r\n    dispatch({\r\n        type: DELETE_MESSAGE_MAG\r\n    });\r\n};\r\nexport const delete_errMag=() => dispatch => {\r\n    dispatch({\r\n        type: DELETE_ERROR_MAG\r\n    });\r\n};\r\n\r\n//visite create action\r\nexport const createMagasinVisite = (magasinId, time) => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: MAGASIN_CREATE_VISITE_REQUEST\r\n        })\r\n\r\n\r\n        const config = {\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                Authorization: `JWT ${localStorage.getItem('access')}`\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.post(\r\n            `${process.env.REACT_APP_API_URL}/api/magasins/${magasinId}/visites/`,\r\n            time,\r\n            config\r\n        )\r\n        dispatch({\r\n            type: MAGASIN_CREATE_VISITE_SUCCESS,\r\n            payload: data,\r\n        })\r\n\r\n\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: MAGASIN_CREATE_VISITE_FAIL,\r\n            payload: error.response && error.response.data.detail\r\n                ? error.response.data.detail\r\n                : error.message,\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport const listMagasinsmarchant = (page=1) => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: MAGASINMarchant_LIST_REQUEST })\r\n        const config = {\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                Authorization: `JWT ${localStorage.getItem('access')}`\r\n            }\r\n        }\r\n        const { data } = await axios.get(`${process.env.REACT_APP_API_URL}/api/magasins/marchant${page}`,config)\r\n\r\n        dispatch({\r\n            type: MAGASINMarchant_LIST_SUCCESS,\r\n            payload: data\r\n        })\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: MAGASINMarchant_LIST_FAIL,\r\n            payload: error.response && error.response.data.detail\r\n                ? error.response.data.detail\r\n                : error.message,\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport const createMagasinRequete = (magasinId, keyword) => async (dispatch, getState) => {\r\n    try {\r\n        dispatch({\r\n            type: MAGASIN_CREATE_REQUETE_REQUEST\r\n        })\r\n\r\n\r\n        \r\n\r\n        const { data } = await axios.post(\r\n            `${process.env.REACT_APP_API_URL}/api/magasins/${magasinId}/requetes/`,\r\n            keyword\r\n        )\r\n        dispatch({\r\n            type: MAGASIN_CREATE_REQUETE_SUCCESS,\r\n            payload: data,\r\n        })\r\n\r\n\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: MAGASIN_CREATE_REQUETE_FAIL,\r\n            payload: error.response && error.response.data.detail\r\n                ? error.response.data.detail\r\n                : error.message,\r\n        })\r\n    }\r\n}\r\n\r\n\r\n","import React,{ useState, useEffect } from 'react'\r\nimport  magasins from '../magasins'\r\nimport {Col,Row,Button  } from 'react-bootstrap'\r\nimport Magasin from '../components/Magasin'\r\nimport CarouselHome from '../components/CarouselHome'\r\n\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\nimport Paginate from '../components/Paginate'\r\nimport { listMagasins } from '../actions/mag'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Carousel  from \"react-multi-carousel\"\r\n//  <Col sm={12} md={6} lg={4} xl={3}> here we used the bootstrap grid system to mean 12 col for one preoduct(full width)\r\n//in small screen 6 in medium 4 in large 3 in extra large\r\n\r\nconst responsive = {\r\n    superLargeDesktop: {\r\n      // the naming can be any, depends on you.\r\n      breakpoint: { max: 4000, min: 3000 },\r\n      items: 5\r\n    },\r\n    desktop: {\r\n      breakpoint: { max: 3000, min: 1024 },\r\n      items: 3\r\n    },\r\n    tablet: {\r\n      breakpoint: { max: 1024, min: 464 },\r\n      items: 2\r\n    },\r\n    mobile: {\r\n      breakpoint: { max: 464, min: 0 },\r\n      items: 1\r\n    }\r\n  };\r\nfunction HomeScreen({ history,match }) {\r\n\r\n    const dispatch = useDispatch()\r\n    const magasinList = useSelector(state => state.magasinList)\r\n    const { error, loading, magasins, page, pages,rec1,rec2 } = magasinList\r\n\r\n    let keyword = history.location.search\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(listMagasins(keyword))\r\n\r\n    }, [dispatch, keyword])\r\n    return (\r\n        <div>\r\n  {!keyword &&   <CarouselHome/>}\r\n \r\n  <Button className='btn btn-dark my-3' size=\"md\" block>\r\n    Nos magasins\r\n  </Button>\r\n  {loading ? <Loader />\r\n                : error ? <Message variant='danger'>{error}</Message>\r\n                :\r\n                <div>\r\n            <Row>\r\n                {magasins.map(magasin=>(\r\n                    <Col  className=\"col-lg-4 d-flex align-items-stretch\"  key={magasin._id} sm={12} md={6} lg={4} xl={3} >\r\n                    <Magasin magasin={magasin} keyword={keyword?keyword.split('keyword=').pop().split('&')[0]!==\"\"?keyword.split('keyword=').pop().split('&')[0]:undefined:undefined}/>\r\n                    </Col>\r\n                ))\r\n\r\n                }\r\n            </Row>\r\n            <Paginate page={page} pages={pages} keyword={keyword} screen=\"home\" />\r\n\r\n\r\n            {rec1&&rec1.length>0&& <Button className='btn btn-dark my-3' size=\"md\" block>\r\n    Recommandation par expansion\r\n  </Button>\r\n            }\r\n           \r\n             {(() => {\r\n              if (rec1&&rec1.length>0){\r\n              \r\n              \r\n        \r\n           \r\n        return(\r\n             \r\n  \r\n            <Carousel responsive={responsive} >\r\n       \r\n         \r\n            {\r\n       \r\n              rec1.map(m=>(\r\n                \r\n             <Col className=\" d-flex align-self-stretch \"   key={m._id}  md={11}  >\r\n\r\n                    <Magasin magasin={m} keyword={keyword?keyword.split('keyword=').pop().split('&')[0]!==\"\"?keyword.split('keyword=').pop().split('&')[0]:undefined:undefined}/>\r\n                    </Col>\r\n                  \r\n                ))\r\n              \r\n                }\r\n        \r\n              \r\n            \r\n       \r\n</Carousel>\r\n\r\n        )}    return null;\r\n      })()}\r\n\r\n            {rec2&&rec2.length>0&& <Button className='btn btn-dark my-3' size=\"md\" block>\r\n    Recommandation guidé\r\n  </Button>\r\n            }\r\n           \r\n             {(() => {\r\n              if (rec2&&rec2.length>0){\r\n              \r\n              \r\n        \r\n           \r\n        return(\r\n             \r\n  \r\n            <Carousel responsive={responsive}>\r\n       \r\n         \r\n            {\r\n       \r\n              rec2.map(mag=>(\r\n                \r\n             <Col className=\" d-flex align-items-stretch my-3    h-200\"   key={mag._id}  md={11}  >\r\n\r\n                    <Magasin magasin={mag} keyword={keyword?keyword.split('keyword=').pop().split('&')[0]!==\"\"?keyword.split('keyword=').pop().split('&')[0]:undefined:undefined}/>\r\n                    </Col>\r\n                  \r\n                ))\r\n              \r\n                }\r\n        \r\n              \r\n            \r\n       \r\n</Carousel>\r\n\r\n        )}    return null;\r\n      })()}\r\n    \r\n  \r\n\r\n\r\n   \r\n    \r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HomeScreen\r\n","import React from 'react'\r\nimport { Card} from 'react-bootstrap'\r\nimport Rating from './Rating'\r\nimport {Link} from 'react-router-dom'\r\n//we destractured the produit prop we could do props.produit but like this we only do it once\r\nfunction Produit({produit}) {\r\n    return (\r\n        <Card className=\"my-3    rounded\"  >\r\n           \r\n            <Card.Img variant=\"top\" src={process.env.REACT_APP_API_URL+'/static'+produit.produit_nom.image} style={{height:\"15vw\"}}/>\r\n         <Card.Body>\r\n      \r\n            <Card.Title  as=\"div\">\r\n             <strong >{produit.produit_nom.nom}</strong>  \r\n                </Card.Title>\r\n        \r\n         \r\n          \r\n            <Card.Text as=\"div\">\r\n                <strong>\r\n                <i class=\"fas fa-money-bill-wave\"></i> <strong>{produit.prix} DA </strong>\r\n            </strong>\r\n            </Card.Text>\r\n         </Card.Body>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default Produit\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet'\r\nimport Carousel from \"react-multi-carousel\";\r\nimport \"react-multi-carousel/lib/styles.css\";\r\nimport {Link} from 'react-router-dom';\r\nimport {Row,Col,Image,ListGroup,Button,Card,Form} from 'react-bootstrap'\r\nimport Rating from '../components/Rating'\r\nimport  magasins from '../magasins'\r\nimport Produit from '../components/Produit'\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\nimport Magasin from '../components/Magasin'\r\nimport { listMagasinDetails,createMagasinReview,delete_msgMag,delete_errMag, createMagasinVisite,createMagasinRequete } from '../actions/mag'\r\nimport { connect } from 'react-redux';\r\n\r\nconst responsive = {\r\n    superLargeDesktop: {\r\n      // the naming can be any, depends on you.\r\n      breakpoint: { max: 4000, min: 3000 },\r\n      items: 5\r\n    },\r\n    desktop: {\r\n      breakpoint: { max: 3000, min: 1024 },\r\n      items: 3\r\n    },\r\n    tablet: {\r\n      breakpoint: { max: 1024, min: 464 },\r\n      items: 2\r\n    },\r\n    mobile: {\r\n      breakpoint: { max: 464, min: 0 },\r\n      items: 1\r\n    }\r\n  };\r\n  //ici match nous donne acces au parametre de l url\r\nfunction ShopScreen({match,history,user, delete_msgMag,delete_errMag,isAuthenticated}) {\r\n  \r\n  const [rating, setRating] = useState(0)\r\n  const [comment, setComment] = useState('')\r\n  const dispatch = useDispatch()\r\n\r\n  const magasinDetails = useSelector(state => state.magasinDetails)\r\n  const { loading, error, magasin } = magasinDetails\r\n\r\n\r\n  const [ numItems, setnumItems] = useState(2);\r\n  const handleClick=()=> {\r\n    setnumItems(numItems+1);\r\n  }\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault()\r\n  \r\n    dispatch(createMagasinReview(\r\n        match.params.id, {\r\n        rating,\r\n        comment\r\n    }\r\n    ))\r\n}\r\n\r\n  const magasinReviewCreate = useSelector(state => state.magasinReviewCreate)\r\n  const {\r\n      loading: loadingMagasinReview,\r\n      error: errorMagasinReview,\r\n      success: successMagasinReview,\r\n  } = magasinReviewCreate\r\n \r\n  //useeffect glob\r\n  useEffect(() => {\r\n  \r\n    history.listen((location) => {\r\n      delete_msgMag()\r\n      delete_errMag()\r\n     \r\n        \r\n  })\r\n    dispatch(listMagasinDetails(match.params.id))\r\n\r\n\r\n}, [dispatch, match,magasin])\r\n\r\n\r\n\r\n\r\nuseEffect(() => {\r\n\r\n\r\n      // do something\r\n      \r\n    if(match.params.keyword !== undefined && match.params.keyword !== \"undefined\"){\r\n      \r\n      let keyword={keyword:match.params.keyword}\r\n      let vis = JSON.parse(localStorage.getItem(match.params.keyword.toLowerCase())) || [];\r\n      if(!vis.includes(match.params.id)){\r\n        vis.push(match.params.id);\r\n        localStorage.setItem(match.params.keyword.toLowerCase(),JSON.stringify(vis))\r\n      }\r\n     \r\n      dispatch(createMagasinRequete(match.params.id,\r\n        keyword\r\n      ))\r\n     \r\n    }\r\n  \r\n     \r\n\r\n}, []);\r\n\r\n\r\n    return (\r\n      \r\n        <div >\r\n          <Link to='/' >  <Button className='btn btn-dark my-3' size=\"md\" block>\r\n    Retour a la page principale\r\n  </Button></Link>\r\n\r\n\r\n  <Button className='btn btn-dark my-3' size=\"md\" onClick={history.goBack} >\r\n    Retour a la page precedente\r\n  </Button>\r\n  {loading ?\r\n                <Loader />\r\n                : error\r\n                    ? <Message variant='danger'>{error}</Message>\r\n                    :(<div>\r\n        <Row >\r\n          <Col md={7}>\r\n            <Image src={process.env.REACT_APP_API_URL+'/static'+magasin.image} alt={magasin.nom} fluid/>\r\n          </Col>\r\n          \r\n        \r\n         <Col md={5}>\r\n    \r\n  <Card border=\"light\" style={{ width: '100%' }}>\r\n    <Card.Header><h3>{magasin.nom}</h3></Card.Header>\r\n    <Card.Body>\r\n      <Card.Title><strong>Catégorie : </strong>{magasin.categorie&&magasin.categorie.nom}</Card.Title>\r\n      <ListGroup variant=\"flush\">\r\n    <ListGroup.Item  className=\"pl-0\">\r\n    <Rating value={magasin.rating} text={`${magasin.numReviews} avis`} color={'#f8e825'}></Rating>\r\n    </ListGroup.Item>\r\n\r\n    <ListGroup.Item className=\"pl-0\">\r\n    <span style={{color:'black'}}><strong>Wilaya:</strong>{magasin.commune&&magasin.commune.wilaya}</span>   \r\n      <br/>\r\n      <span style={{color:'black'}}><strong>Comune:</strong> {magasin.commune&&magasin.commune.nom}</span>\r\n      <br/>\r\n      <i class=\"fas fa-map-marker-alt\"> </i> <span style={{color:'black'}}><strong>{magasin.adresse}</strong></span>\r\n      </ListGroup.Item>\r\n \r\n    <ListGroup.Item className=\"pl-0\">\r\n\r\n    <span style={{color:'black'}}><i class=\"fas fa-phone-alt\"></i>{magasin.telephone}</span>\r\n\r\n    </ListGroup.Item>\r\n    <ListGroup.Item className=\"pl-0\">\r\n\r\n<span style={{color:'black'}}><i class=\"fas fa-door-open\"></i>{magasin.overture}</span>\r\n<br/>\r\n<span style={{color:'black'}}><i class=\"fas fa-door-closed\"></i>{magasin.fermeture}</span>\r\n</ListGroup.Item>\r\n  </ListGroup>\r\n    </Card.Body>\r\n  </Card>\r\n  </Col>\r\n  \r\n        </Row>\r\n        {(() => {\r\n              if (magasin.produits){\r\n        return(\r\n            <Carousel responsive={responsive}>\r\n            {\r\n            magasin.produits.map(produit=>(\r\n                    <Col   key={produit._id} md={11}  >\r\n                    <Produit produit={produit}/>\r\n                    </Col>\r\n                ))\r\n\r\n                }\r\n</Carousel>\r\n        )}    return null;\r\n      })()}\r\n  \r\n            <MapContainer   className=\"my-3\" center={[magasin.latitude?magasin.latitude:0, magasin.longitude?magasin.longitude:0]} zoom={10} scrollWheelZoom={false}>\r\n  <TileLayer\r\n    attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n  />\r\n  <Marker position={[magasin.latitude?magasin.latitude:0, magasin.longitude?magasin.longitude:0]}>\r\n    <Popup>\r\n      {magasin.nom}\r\n    </Popup>\r\n  </Marker>\r\n</MapContainer>\r\n<Row>\r\n<Button className='btn btn-dark my-3' size=\"md\" block>\r\n   Avis\r\n  </Button>\r\n  <Col md={12}>\r\n  {magasin.reviews.length === 0 && <Message variant='info' >Pas d'avis!</Message>}\r\n  </Col>\r\n                                <Col md={6}>\r\n                                \r\n                                  \r\n\r\n                                    <ListGroup variant='flush'>\r\n                                    <ListGroup.Item>\r\n                                            <h4>Réidiger ou modifier votre avis</h4>\r\n\r\n                                            {loadingMagasinReview && <Loader />}\r\n                                            {successMagasinReview && <Message variant='success'>Avis rédigé</Message>}\r\n                                           \r\n                                   \r\n \r\n      {errorMagasinReview && <Message variant='danger'>{errorMagasinReview}</Message>}\r\n                \r\n                                            {user!=null ? (\r\n                                                <Form onSubmit={submitHandler}>\r\n                                                    <Form.Group controlId='rating'>\r\n                                                        <Form.Label>Note</Form.Label>\r\n                                                        <Form.Control\r\n                                                            as='select'\r\n                                                            value={rating}\r\n                                                            onChange={(e) => setRating(e.target.value)}\r\n                                                        required\r\n                                                        >\r\n                                                            <option value=''>Selectionez...</option>\r\n                                                            <option value='1'>1 - Pauvre</option>\r\n                                                            <option value='2'>2 - Assez bien</option>\r\n                                                            <option value='3'>3 - Bien</option>\r\n                                                            <option value='4'>4 - Très Bien</option>\r\n                                                            <option value='5'>5 - Excellent</option>\r\n                                                        </Form.Control>\r\n                                                    </Form.Group>\r\n\r\n                                                    <Form.Group controlId='comment'>\r\n                                                        <Form.Label>Avis</Form.Label>\r\n                                                        <Form.Control\r\n                                                            as='textarea'\r\n                                                            row='5'\r\n                                                            value={comment}\r\n                                                            onChange={(e) => setComment(e.target.value)}\r\n                                                        ></Form.Control>\r\n                                                    </Form.Group>\r\n\r\n                                                    <Button\r\n                                                        disabled={loadingMagasinReview}\r\n                                                        type='submit'\r\n                                                        variant='primary'\r\n                                                    >\r\n                                                        Submit\r\n                                                    </Button>\r\n\r\n                                                </Form>\r\n                                            ) : (\r\n                                                    <Message variant='primary'>Veillez <Link to='/login'>Vous connectez</Link> pour rédiger votre avis</Message>\r\n                                                )}\r\n                                        </ListGroup.Item>\r\n                                        {magasin.reviews.slice(0, numItems).map((review) => (\r\n                                            <ListGroup.Item key={review._id}>\r\n                                                <strong>{review.name}</strong>\r\n                                                <Rating value={review.rating} color='#f8e825' />\r\n                                                <p>{review.date_created.substring(0, 10)}</p>\r\n                                                <p>{review.comment}</p>\r\n                                            </ListGroup.Item>\r\n                                        ))}\r\n                                        </ListGroup>\r\n                                        {numItems<magasin.reviews.length?\r\n                                         <Button className='btn btn-dark my-3' size=\"md\" onClick={e=>handleClick(e)}> Voir plus d'avis\r\n                                         </Button>\r\n                                        :\"\"}\r\n                  \r\n                                        </Col>\r\n                                        \r\n                                        </Row>\r\n                                        {(() => {\r\n              if (magasin.recommendations&&magasin.recommendations.length>0){\r\n              \r\n              \r\n        \r\n           \r\n        return(\r\n             \r\n  \r\n            <Carousel responsive={responsive} >\r\n       \r\n         \r\n            {\r\n       \r\n              magasin.recommendations.map(m=>(\r\n                \r\n             <Col className=\" d-flex align-self-stretch \"   key={m._id}  md={11}  >\r\n\r\n                    <Magasin magasin={m} keyword={undefined}/>\r\n                    </Col>\r\n                  \r\n                ))\r\n              \r\n                }\r\n        \r\n              \r\n            \r\n       \r\n</Carousel>\r\n\r\n        )}    return null;\r\n      })()}\r\n</div>)}\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated:state.auth.isAuthenticated,\r\n  user:state.auth.user\r\n});\r\nexport default connect(mapStateToProps,{delete_msgMag,delete_errMag})(ShopScreen)\r\n","import React,{useState} from 'react'\r\nimport {Link,Redirect} from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport {Form,Button} from 'react-bootstrap'\r\nimport { login,delete_err,delete_msg } from '../actions/auth';\r\nimport Message from '../components/Message'\r\nfunction Login({login,isAuthenticated,error,delete_err}) {\r\n  \r\n    const [formData, setFormData] = useState({\r\n        email: '',\r\n        password: '' \r\n    });\r\n    const { email, password } = formData;\r\n    //seting our state  from the target (our input field) value\r\n    const onChange = e => setFormData({ ...formData, [e.target.name]: e.target.value });\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        login(email, password);\r\n    };\r\n    \r\n    //is the user authenticated\r\n    //send them to the home page\r\n    if (isAuthenticated) {\r\n      return <Redirect to='/' />\r\n  }else{\r\n    {error && <Message variant='danger'>{error}</Message>}\r\n  }\r\n    return (\r\n       <div>\r\n         \r\n            <Button className='btn btn-dark my-3' size=\"md\" block>\r\n    Se Connceter\r\n  </Button>\r\n  <div Style={\"display: none;\"}>\r\n  {(() => {\r\n              if (error){\r\n        return(\r\n          setTimeout(function(){ delete_err(); }, 10000)\r\n        )}    return null;\r\n      })()}\r\n      </div>\r\n  {error && <Message variant='danger'>{error}</Message>\r\n  \r\n   }\r\n  \r\n       <Form onSubmit={e=>onSubmit(e)}>\r\n  <Form.Group controlId=\"formBasicEmail\">\r\n    <Form.Label>Email </Form.Label>\r\n    <Form.Control type=\"email\" placeholder=\"Enter email\" \r\n     name='email' value={email} onChange={e=>onChange(e)} required  />\r\n    <Form.Text className=\"text-muted\">\r\n      We'll never share your email with anyone else.\r\n    </Form.Text>\r\n  </Form.Group>\r\n\r\n  <Form.Group controlId=\"formBasicPassword\">\r\n    <Form.Label>Mot de passe</Form.Label>\r\n    <Form.Control type=\"password\" placeholder=\"Password\"\r\n      name='password'\r\n      value={password}\r\n      onChange={e => onChange(e)}\r\n      minLength='6'\r\n      required\r\n    />\r\n  </Form.Group>\r\n\r\n  <Button variant=\"primary\" type=\"submit\" >\r\n    se connecter\r\n  </Button>\r\n</Form>\r\n<p className='mt-3'>\r\n                ouvrir un nouveau compte ? <Link to='/signup'>S'inscrire</Link>\r\n            </p>\r\n            <p className='mt-3'>\r\n               mot de passe oublié ? <Link to='/reset-password'>Rénitialiser le mot de passe</Link>\r\n            </p>\r\n       </div> \r\n    )\r\n};\r\n\r\n//const mapStateToProps = state => ({\r\n //   isAuthenticated: state.auth.isAuthenticated\r\n//});\r\n//The connect() function connects a React component to a Redux store.\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: state.auth.isAuthenticated,\r\n  error: state.auth.error\r\n});\r\nexport default connect(mapStateToProps, { login,delete_err })(Login);\r\n","  \r\nimport React, { useState } from 'react';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { signup,delete_err,delete_msg,create_msg,create_err } from '../actions/auth';\r\nimport Message from '../components/Message';\r\nimport {Form,Button} from 'react-bootstrap'\r\nfunction SignUp({ signup, isAuthenticated,error,message,delete_err,delete_msg,create_msg,create_err }) {\r\n    const [accountCreated, setAccountCreated] = useState(false);\r\n    const [formData, setFormData] = useState({\r\n        username:'',\r\n        email: '',\r\n        password: '',\r\n        re_password: ''\r\n    });\r\n\r\n    const { username, email, password, re_password } = formData;\r\n\r\n    const onChange = e => setFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        if (password === re_password) {\r\n            signup(username, email, password, re_password);\r\n            setAccountCreated(true);\r\n        }else{\r\n          create_err(\"les deux mot de passe doivent etre egaux\");\r\n        }\r\n    };\r\n\r\n  \r\n\r\n\r\n\r\n    if (isAuthenticated) {\r\n        return <Redirect to='/' />\r\n    }\r\n    return (\r\n        <div>\r\n<Button className='btn btn-dark my-3' size=\"md\" block>\r\n Création d'un nouveau compte\r\n </Button>\r\n <div Style={\"display: none;\"}>\r\n  {(() => {\r\n              if (error){\r\n        return(\r\n          setTimeout(function(){ delete_err(); }, 10000)\r\n        )}    return null;\r\n      })()}\r\n      </div>\r\n      <div Style={\"display: none;\"}>\r\n  {(() => {\r\n              if (message){\r\n        return(\r\n          setTimeout(function(){ delete_msg(); }, 10000)\r\n        )}    return null;\r\n      })()}\r\n      </div>\r\n {error && <Message variant='danger'>{error}</Message>\r\n  \r\n}\r\n{message && <Message variant='success'>{message}</Message>\r\n  \r\n}\r\n <Form onSubmit={e=>onSubmit(e)}>\r\n <Form.Group controlId=\"formBasicUserName\">\r\n    <Form.Label>Nom d'utilisateur </Form.Label>\r\n    <Form.Control   \r\n                        type='text'\r\n                        placeholder='username*'\r\n                        name='username'\r\n                        value={username}\r\n                        onChange={e => onChange(e)}\r\n                        required  />\r\n    <Form.Text className=\"text-muted\">\r\n      We'll never share your email with anyone else.\r\n    </Form.Text>\r\n  </Form.Group>\r\n  <Form.Group controlId=\"formBasicEmail\">\r\n    <Form.Label>Email </Form.Label>\r\n    <Form.Control type=\"email\" placeholder=\"Enter email*\" \r\n     name='email' value={email} onChange={e=>onChange(e)} required  />\r\n    <Form.Text className=\"text-muted\">\r\n      We'll never share your email with anyone else.\r\n    </Form.Text>\r\n  </Form.Group>\r\n   <Form.Group controlId=\"formBasicPassword\">\r\n     <Form.Label>Mot de passe </Form.Label>\r\n     <Form.Control    \r\n                        type='password'\r\n                        placeholder='Password*'\r\n                        name='password'\r\n                        value={password}\r\n                        onChange={e => onChange(e)}\r\n                        minLength='6'\r\n                        required  />\r\n\r\n   </Form.Group>\r\n   <Form.Group controlId=\"formBasicPassword\">\r\n     <Form.Label>Confirmation du nouveau mot de passe</Form.Label>\r\n     <Form.Control                             \r\n                        type='password'\r\n                        placeholder='Confirm Password*'\r\n                        name='re_password'\r\n                        value={re_password}\r\n                        onChange={e => onChange(e)}\r\n                        minLength='6'\r\n                        required />\r\n\r\n   </Form.Group>\r\n   <Button variant=\"primary\" type=\"submit\" >\r\n     Créez votre compte\r\n   </Button>\r\n         </Form>\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = state => ({\r\n    isAuthenticated: state.auth.isAuthenticated,\r\n    error: state.auth.error,\r\n    message: state.auth.message\r\n});\r\nexport default connect(mapStateToProps, { signup,delete_err,delete_msg,create_msg,create_err })(SignUp)\r\n","import React,{ useState } from 'react'\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { reset_password,delete_err,delete_msg } from '../actions/auth';\r\nimport {Form,Button} from 'react-bootstrap';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Message from '../components/Message';\r\nfunction ResetPassword({ reset_password,error,message,delete_err,delete_msg,isAuthenticated}) {\r\n    const [requestSent, setRequestSent] = useState(false);\r\n    const [formData, setFormData] = useState({\r\n        email: ''\r\n    });\r\n\r\n    const { email } = formData;\r\n\r\n    const onChange = e => setFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        reset_password(email);\r\n        \r\n        setRequestSent(true);\r\n    };\r\n    //const notify = () => toast(\" check your email !\");\r\n   /* //let history =// useHistory();*/\r\n      \r\n   if (isAuthenticated) {\r\n    return <Redirect to='/' />\r\n}\r\n    return (\r\n        <div>\r\n         \r\n        <Button className='btn btn-dark my-3' size=\"md\" block>\r\nRénetialiser le mot de passe\r\n</Button>\r\n\r\n<div Style={\"display: none;\"}>\r\n  {(() => {\r\n              if (error){\r\n        return(\r\n          setTimeout(function(){ delete_err(); }, 10000)\r\n        )}    return null;\r\n      })()}\r\n      </div>\r\n      <div Style={\"display: none;\"}>\r\n  {(() => {\r\n              if (message){\r\n        return(\r\n          setTimeout(function(){ delete_msg(); }, 10000)\r\n        )}    return null;\r\n      })()}\r\n      </div>\r\n{error && <Message variant='danger'>{error}</Message>\r\n  \r\n}\r\n{message && <Message variant='success'>{message}</Message>\r\n  \r\n}\r\n<Form onSubmit={e=>onSubmit(e)}>\r\n  <Form.Group controlId=\"formBasicEmail\">\r\n    <Form.Label>Email </Form.Label>\r\n    <Form.Control type=\"email\" placeholder=\"Enter email\" \r\n     name='email' value={email} onChange={e=>onChange(e)} required  />\r\n    <Form.Text className=\"text-muted\">\r\n      We'll never share your email with anyone else.\r\n    </Form.Text>\r\n  </Form.Group>\r\n  <Button variant=\"primary\" type=\"submit\" >\r\n    Rénitialiser le mot de passe\r\n  </Button>\r\n        </Form>\r\n        <ToastContainer />\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = state => ({\r\n\r\n    error: state.auth.error,\r\n    message: state.auth.message,\r\n    isAuthenticated: state.auth.isAuthenticated\r\n  });\r\nexport default connect(mapStateToProps, { reset_password,delete_err,delete_msg })(ResetPassword)\r\n","import React, { useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { reset_password_confirm ,delete_err,delete_msg,create_msg,create_err} from '../actions/auth';\r\nimport {Form,Button} from 'react-bootstrap'\r\nimport Message from '../components/Message';\r\nfunction ResetPasswordConfirm({ match, reset_password_confirm ,error,message,delete_err,delete_msg,create_msg,create_err,isAuthenticated}) {\r\n    const [requestSent, setRequestSent] = useState(false);\r\n    const [formData, setFormData] = useState({\r\n        new_password: '',\r\n        re_new_password: ''\r\n    });\r\n\r\n    const { new_password, re_new_password } = formData;\r\n\r\n    const onChange = e => setFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        const uid = match.params.uid;\r\n        const token = match.params.token;\r\n        if (new_password === re_new_password ) {\r\n        reset_password_confirm(uid, token, new_password, re_new_password);\r\n        setRequestSent(true);\r\n        }else{\r\n          create_err(\"les deux mot de passe doivent etre egaux\");\r\n        }\r\n    };\r\n    /*\r\n    if (requestSent) {\r\n        return <Redirect to='/' />\r\n    }\r\n    */\r\n    if (isAuthenticated) {\r\n      return <Redirect to='/' />\r\n  }\r\n    return (\r\n        <div>\r\n\r\n         \r\n         <Button className='btn btn-dark my-3' size=\"md\" block>\r\n Confirmation de Rénetialiser le mot de passe\r\n </Button>\r\n <div Style={\"display: none;\"}>\r\n  {(() => {\r\n              if (error){\r\n        return(\r\n          setTimeout(function(){ delete_err(); }, 10000)\r\n        )}    return null;\r\n      })()}\r\n      </div>\r\n      <div Style={\"display: none;\"}>\r\n  {(() => {\r\n              if (message){\r\n        return(\r\n          setTimeout(function(){ delete_msg(); }, 10000)\r\n        )}    return null;\r\n      })()}\r\n      </div>\r\n {error && <Message variant='danger'>{error}</Message>\r\n  \r\n}\r\n{message && <Message variant='success'>{message}</Message>\r\n  \r\n}\r\n <Form onSubmit={e=>onSubmit(e)}>\r\n   <Form.Group controlId=\"formBasicPassword\">\r\n     <Form.Label>Nouveau mot de passe </Form.Label>\r\n     <Form.Control      type='password'\r\n                        placeholder='New Password'\r\n                        name='new_password'\r\n                        value={new_password}\r\n                        onChange={e => onChange(e)}\r\n                        minLength='6'\r\n                        required  />\r\n\r\n   </Form.Group>\r\n   <Form.Group controlId=\"formBasicPassword\">\r\n     <Form.Label>Confirmation du nouveau mot de passe</Form.Label>\r\n     <Form.Control     \r\n                        type='password'\r\n                        placeholder='Confirm New Password'\r\n                        name='re_new_password'\r\n                        value={re_new_password}\r\n                        onChange={e => onChange(e)}\r\n                        minLength='6'\r\n                        required />\r\n\r\n   </Form.Group>\r\n   <Button variant=\"primary\" type=\"submit\" >\r\n     Rénitialiser le mot de passe\r\n   </Button>\r\n         </Form>\r\n\r\n       \r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = state => ({\r\n\r\n    error: state.auth.error,\r\n    message: state.auth.message,\r\n    isAuthenticated: state.auth.isAuthenticated\r\n  });\r\nexport default connect(mapStateToProps, { reset_password_confirm,delete_err,delete_msg,create_msg,create_err })(ResetPasswordConfirm)\r\n","  \r\nimport React, { useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { verify } from '../actions/auth';\r\nimport Message from '../components/Message';\r\nimport {Form,Button} from 'react-bootstrap'\r\nfunction Activate({ verify, match,isAuthenticated }) {\r\n    const [verified, setVerified] = useState(false);\r\n\r\n    const verify_account = e => {\r\n        const uid = match.params.uid;\r\n        const token = match.params.token;\r\n\r\n        verify(uid, token);\r\n        setVerified(true);\r\n    };\r\n    if (verified) {\r\n        return <Redirect to='/login' />\r\n    }\r\n    if (isAuthenticated) {\r\n        return <Redirect to='/' />\r\n    }\r\n    return (\r\n        <div>\r\n                       <div \r\n                className='d-flex flex-column justify-content-center align-items-center'\r\n                style={{ marginTop: '200px' }}\r\n            >\r\n                <h1>Verifiez votre compte:</h1>\r\n\r\n                <Button variant=\"primary\" \r\n                         onClick={verify_account}\r\n                        style={{ marginTop: '50px' }}\r\n                        type='button'\r\n                >\r\n    Vérifier\r\n   </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = state => ({\r\n\r\n\r\n    isAuthenticated: state.auth.isAuthenticated\r\n  });\r\nexport default connect(mapStateToProps, { verify })(Activate);\r\n\r\n","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\nimport {Row,Col,Image,ListGroup,Button,Card,Form} from 'react-bootstrap'\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nfunction CreateMagasin({user,isAuthenticated,history}) {\r\n    const [wilayas, setWilayas] = useState([])\r\n    const [categories, setCategories] = useState([])\r\n    const [communes, setCommunes] = useState([])\r\n    const [display, setDisplay] = useState(\"None\")\r\n    const [error,setError]=useState(null)\r\n//fecth wilaya and categories\r\nconst getWilayasCat=   ()=>{\r\n axios.get(`${process.env.REACT_APP_API_URL}/api/wilayas/`)\r\n  .then(response => {\r\n    setWilayas(response.data);\r\n    return axios.get(`${process.env.REACT_APP_API_URL}/api/categories/` );\r\n  })\r\n  .then(response => {\r\n    setCategories(response.data );\r\n    \r\n  }).catch(error => console.log(error.response));\r\n\r\n\r\n}\r\n\r\n//fecth commmunes after wilaya select\r\nconst getCommunes=   (e)=>{\r\n    if(e.target.value!=''){\r\n    axios.get(`${process.env.REACT_APP_API_URL}/api/wilayas/${e.target.value}/communes/`)\r\n     .then(response => {\r\n       setCommunes(response.data);\r\n      \r\n     }).catch(error => console.log(error.response));\r\n     setDisplay(\"block\");\r\n    }\r\n    else{\r\n        setDisplay(\"none\")\r\n    }\r\n   }\r\n\r\n   //handeling data send\r\n   const [formData, setFormData] = useState({nom:'',\r\n \r\n    categorie:''});\r\n\r\nconst {   nom,\r\noverture,\r\nfermeture,\r\ntelephone,\r\nadresse,\r\nlatitude,\r\nlongitude,\r\ncommune,\r\ncategorie,\r\nimage\r\n\r\n} = formData;\r\n//seting our state  from the target (our input field) value\r\nfunction transformInToFormObject(data) {\r\n    let formData = new FormData();\r\n    for (let key in data) {\r\n      if (Array.isArray(data[key])) {\r\n        data[key].forEach((obj, index) => {\r\n          let keyList = Object.keys(obj);\r\n          keyList.forEach((keyItem) => {\r\n            let keyName = [key, \"[\", index, \"]\", \".\", keyItem].join(\"\");\r\n            formData.append(keyName, obj[keyItem]);\r\n          });\r\n        });\r\n      } else if (typeof data[key] === \"object\") { \r\n        for (let innerKey in data[key]) {\r\n          formData.append(`${key}.${innerKey}`, data[key][innerKey]);\r\n        }\r\n      } else {\r\n        formData.append(key, data[key]);\r\n      }\r\n    }\r\n    return formData;\r\n  }\r\nconst onChange = e => setFormData({ ...formData, [e.target.name]: e.target.value });\r\nconst [uploading,setUploading]=useState(false)\r\n  const onSubmit=async(e)=>{\r\n    e.preventDefault()\r\n   \r\n \r\n    setUploading(true)\r\n    var form = transformInToFormObject(formData);\r\n    image&& form.append('image',image)\r\n   \r\n    try {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data',\r\n                Authorization: `JWT ${localStorage.getItem('access')}`\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.post(`${process.env.REACT_APP_API_URL}/api/magasins/create`, form, config)\r\n\r\n\r\n   \r\n        setUploading(false)\r\n        history.push('/marchant/magasinslist')\r\n\r\n    } catch (error) {\r\n        setUploading(false)\r\n        //console.log(error)\r\n        error.response && error.response.data.detail\r\n        ?  setError(error.response.data.detail)\r\n        : setError(error.message)\r\n       \r\n      \r\n    }\r\n  }\r\n\r\n\r\n  const uploadFileHandler = async (e) => {\r\n    const file = e.target.files[0]\r\n\r\n    setFormData({ ...formData, 'image':  file })\r\n\r\n\r\n\r\n    \r\n}\r\n\r\n    useEffect(() => {\r\n   \r\n        getWilayasCat();\r\n     \r\n        \r\n    \r\n    },[])\r\n    if (isAuthenticated==false) {\r\n        return <Redirect to='/' />\r\n    }\r\n    return (\r\n        <div>\r\n               {uploading ? <Loader />:\r\n               <div>\r\n                  <Button className='btn btn-dark my-3' size=\"md\" block>\r\n    Crée magasin\r\n  </Button>\r\n                    {error && <Message variant='danger'>{error}</Message>\r\n  \r\n}\r\n            <Form onSubmit={e=>onSubmit(e)}>\r\n         \r\n      \r\n            <Form.Group controlId=\"formBasicNom\">\r\n    <Form.Label>Nom du magasin: </Form.Label>\r\n    <Form.Control type=\"text\" placeholder=\"Entrer le nom du magasin\" \r\n     name='nom' value={nom} onChange={e=>onChange(e)} required  />\r\n\r\n  </Form.Group>\r\n\r\n\r\n  <Form.Group controlId=\"formBasicOuverture\">\r\n    <Form.Label>Ouverture </Form.Label>\r\n    <Form.Control type=\"time\" placeholder=\"Entrer le temps d'ouverture \" \r\n     name='overture' value={overture} onChange={e=>onChange(e)}  />\r\n\r\n  </Form.Group>\r\n\r\n  <Form.Group controlId=\"formBasicFermeture\">\r\n    <Form.Label>Fermeture </Form.Label>\r\n    <Form.Control type=\"time\" placeholder=\"Entrer le temps de fermeture\" \r\n     name='fermeture' value={fermeture} onChange={e=>onChange(e)} />\r\n\r\n  </Form.Group>\r\n\r\n  <Form.Group controlId=\"formBasicTéléphone\">\r\n    <Form.Label>Téléphpne </Form.Label>\r\n    <Form.Control type=\"tel\" placeholder=\"Entrer le numero de telephone\" \r\n     name='telephone' value={telephone} onChange={e=>onChange(e)}   />\r\n\r\n  </Form.Group>\r\n\r\n\r\n\r\n\r\n\r\n             <Form.Group controlId='categorie'>\r\n                                                        <Form.Label>Catégorie</Form.Label>\r\n                                                        <Form.Control\r\n                                                            as='select'\r\n                                                            value={categorie}\r\n                                                            name=\"categorie\"\r\n                                                            onChange={e=>onChange(e)}\r\n                                                        required\r\n                                                        >\r\n                                                            <option value=''>Selectionez...</option>\r\n                                                            {categories.map(categorie=>(\r\n                    <option  value={categorie._id} key={categorie._id}  >\r\n                    {categorie.nom}\r\n                    </option>\r\n                ))\r\n\r\n                }\r\n                                                        </Form.Control>\r\n\r\n                                                    </Form.Group>\r\n\r\n\r\n                                                    <Form.Group controlId=\"formBasicAdresse\">\r\n    <Form.Label>Adresse </Form.Label>\r\n    <Form.Control type=\"text\" placeholder=\"Entrer votre adresse\" \r\n     name='adresse' value={adresse} onChange={e=>onChange(e)}  />\r\n\r\n  </Form.Group>\r\n\r\n \r\n                                                    <Form.Group controlId='wilaya'>\r\n                                                        <Form.Label>Wilaya</Form.Label>\r\n                                                        <Form.Control\r\n                                                            as='select'\r\n                                                            onChange={getCommunes}\r\n                                                       \r\n                                                        >\r\n                                                            <option value='' > Selectionez...</option>\r\n                                                            {wilayas.map(wilaya=>(\r\n                    <option  value={wilaya.id} key={wilaya.id}  >\r\n                    {wilaya.nom}\r\n                    </option>\r\n                ))\r\n\r\n                }\r\n                                                        </Form.Control>\r\n                                                    </Form.Group>\r\n\r\n             {communes&&\r\n\r\n                                                    <Form.Group controlId='commune' style={{display:display}} >\r\n                                                        <Form.Label>commune</Form.Label>\r\n                                                        <Form.Control\r\n                                                            as='select'\r\n                                                            value={commune}\r\n                                                            name=\"commune\"\r\n                                                            onChange={e=>onChange(e)}\r\n                                                        >\r\n                                                            <option value=''>Selectionez...</option>\r\n                                                            {communes.map(commune=>(\r\n                    <option  value={commune.id} key={commune.id}  >\r\n                    {commune.nom}\r\n                    </option>\r\n                ))\r\n\r\n                }\r\n                                                        </Form.Control>\r\n                                                    </Form.Group>}\r\n\r\n\r\n\r\n        <Form.Group controlId=\"formBasicLatittude\">\r\n    <Form.Label>Latittude </Form.Label>\r\n    <Form.Control type=\"text\"  placeholder=\"Entrer la latitude \" \r\n     name='latitude' value={latitude} onChange={e=>onChange(e)}   />\r\n\r\n  </Form.Group>\r\n  <Form.Group controlId=\"formBasicLongitude\">\r\n    <Form.Label>Longitude </Form.Label>\r\n    <Form.Control type=\"text\"   placeholder=\"Entrer la longitude\" \r\n     name='longitude' value={longitude} onChange={e=>onChange(e)}   />\r\n\r\n  </Form.Group>     \r\n\r\n   <Form.Group controlId='image'>\r\n                                <Form.Label>Image</Form.Label>\r\n                               \r\n                                <Form.Control\r\n\r\ntype='text'\r\nplaceholder='Enter image'\r\nvalue={image&&image.name}\r\nreadonly=\"readonly\"\r\n>\r\n</Form.Control>\r\n                                <Form.File\r\n                                    id='image-file'\r\n                                    label='Choose File'\r\n                                    custom\r\n                                    onChange={uploadFileHandler}\r\n                                >\r\n\r\n                                </Form.File>\r\n                              \r\n\r\n                            </Form.Group>   \r\n\r\n                               <Button type='submit' variant='primary'>\r\n                               Crée\r\n                        </Button>                              \r\n     </Form>\r\n     </div>\r\n     }\r\n     \r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    isAuthenticated:state.auth.isAuthenticated,\r\n    user:state.auth.user\r\n  });\r\nexport default connect(mapStateToProps)(CreateMagasin)\r\n","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\nimport {Row,Col,Image,ListGroup,Button,Card,Form} from 'react-bootstrap'\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { listMagasinDetails } from '../actions/mag'\r\nfunction UpdateMagasin({user,isAuthenticated,history,match}) {\r\n  const dispatch = useDispatch()\r\n\r\n  const magasinDetails = useSelector(state => state.magasinDetails)\r\n  const { loading, error, magasin } = magasinDetails\r\n    const [wilayas, setWilayas] = useState([])\r\n    const [categories, setCategories] = useState([])\r\n    const [communes, setCommunes] = useState([])\r\n    const [display, setDisplay] = useState(\"None\")\r\n    const [errorr,setErrorr]=useState(null)\r\n//fecth wilaya and categories\r\nconst getWilayasCat=   ()=>{\r\n axios.get(`${process.env.REACT_APP_API_URL}/api/wilayas/`)\r\n  .then(response => {\r\n    setWilayas(response.data);\r\n    return axios.get(`${process.env.REACT_APP_API_URL}/api/categories/` );\r\n  })\r\n  .then(response => {\r\n    setCategories(response.data );\r\n    \r\n  }).catch(error => console.log(error.response));\r\n\r\n\r\n}\r\n\r\n//fecth commmunes after wilaya select\r\nconst getCommunes=   (e)=>{\r\n    if(e.target.value!=''){\r\n    axios.get(`${process.env.REACT_APP_API_URL}/api/wilayas/${e.target.value}/communes/`)\r\n     .then(response => {\r\n       setCommunes(response.data);\r\n      \r\n     }).catch(error => console.log(error.response));\r\n     setDisplay(\"block\");\r\n    }\r\n    else{\r\n        setDisplay(\"none\")\r\n    }\r\n   }\r\n\r\n   //handeling data send\r\n   const [formData, setFormData] = useState({});\r\n\r\nconst {   nom,\r\noverture,\r\nfermeture,\r\ntelephone,\r\nadresse,\r\nlatitude,\r\nlongitude,\r\ncommune,\r\ncategorie,\r\nimage\r\n\r\n} = formData;\r\n//seting our state  from the target (our input field) value\r\nfunction transformInToFormObject(data) {\r\n    let formData = new FormData();\r\n    for (let key in data) {\r\n      if (Array.isArray(data[key])) {\r\n        data[key].forEach((obj, index) => {\r\n          let keyList = Object.keys(obj);\r\n          keyList.forEach((keyItem) => {\r\n            let keyName = [key, \"[\", index, \"]\", \".\", keyItem].join(\"\");\r\n            formData.append(keyName, obj[keyItem]);\r\n          });\r\n        });\r\n      } else if (typeof data[key] === \"object\") { \r\n        for (let innerKey in data[key]) {\r\n          formData.append(`${key}.${innerKey}`, data[key][innerKey]);\r\n        }\r\n      } else {\r\n        formData.append(key, data[key]);\r\n      }\r\n    }\r\n    return formData;\r\n  }\r\nconst onChange = e => setFormData({ ...formData, [e.target.name]: e.target.value });\r\nconst [uploading,setUploading]=useState(false)\r\n  const onSubmit=async(e)=>{\r\n    e.preventDefault()\r\n   \r\n \r\n    setUploading(true)\r\n    var form = transformInToFormObject(formData);\r\n    image&& form.append('image',image)\r\n   \r\n    try {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data',\r\n                Authorization: `JWT ${localStorage.getItem('access')}`\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.put(`${process.env.REACT_APP_API_URL}/api/magasins/${match.params.id}/update`, form, config)\r\n\r\n\r\n   \r\n        setUploading(false)\r\n        history.push(`/marchant/magasin/${match.params.id}`)\r\n\r\n    } catch (error) {\r\n        setUploading(false)\r\n        //console.log(error)\r\n        error.response && error.response.data.detail\r\n        ?  setErrorr(error.response.data.detail)\r\n        : setErrorr(error.message)\r\n       \r\n      \r\n    }\r\n  }\r\n\r\n\r\n  const uploadFileHandler = async (e) => {\r\n    const file = e.target.files[0]\r\n\r\n    setFormData({ ...formData, 'image':  file })\r\n\r\n\r\n\r\n    \r\n}\r\n\r\n    useEffect(() => {\r\n      dispatch(listMagasinDetails(match.params.id));\r\n      setFormData({\r\n        nom:magasin.nom,\r\n        overture:magasin.overture,\r\n        fermeture:magasin.fermeture,\r\n        categorie:magasin.categorie&&magasin.categorie._id,\r\n        adresse:magasin.adresse,\r\n        telephone:magasin.telephone,\r\n        latitude:magasin.latitude,\r\n        longitude:magasin.longitude,\r\n        commune:magasin.commune&&magasin.commune.id,\r\n        \r\n\r\n\r\n\r\n      })\r\n\r\n        getWilayasCat();\r\n     \r\n        \r\n    \r\n    },[dispatch,match.params.id])\r\n\r\n\r\n\r\n    useEffect(() => {\r\n   \r\n     \r\n\r\n       \r\n     \r\n    \r\n\r\n\r\n      setFormData({\r\n        nom:magasin.nom,\r\n        overture:magasin.overture,\r\n        fermeture:magasin.fermeture,\r\n        categorie:magasin.categorie&&magasin.categorie._id,\r\n        adresse:magasin.adresse,\r\n        telephone:magasin.telephone,\r\n        latitude:magasin.latitude,\r\n        longitude:magasin.longitude,\r\n        \r\n\r\n\r\n\r\n      })\r\n  \r\n        \r\n    \r\n    },[magasin])\r\n    if (isAuthenticated==false) {\r\n  \r\n      history.replace('/')\r\n      \r\n    }\r\n    else{\r\n      if(user&&magasin.user){\r\n        if(user&&magasin.user!==user.id) history.replace('/')\r\n      }\r\n    }\r\n    return (\r\n        <div>\r\n               {uploading||loading ? <Loader />:error? \r\n                <Message variant='danger'>{error}</Message>:\r\n               <div>\r\n                  <Button className='btn btn-dark my-3' size=\"md\" block>\r\n    Modifier magasin\r\n  </Button>\r\n{errorr && <Message variant='danger'>{errorr}</Message>\r\n  \r\n}\r\n\r\n            <Form onSubmit={e=>onSubmit(e)}>\r\n         \r\n      \r\n            <Form.Group controlId=\"formBasicNom\">\r\n    <Form.Label>Nom du magasin: </Form.Label>\r\n    <Form.Control type=\"text\" placeholder=\"Entrer le nom du magasin\" \r\n     name='nom' value={nom} onChange={e=>onChange(e)} required  />\r\n\r\n  </Form.Group>\r\n\r\n\r\n  <Form.Group controlId=\"formBasicOuverture\">\r\n    <Form.Label>Ouverture </Form.Label>\r\n    <Form.Control type=\"time\" placeholder=\"Entrer le temps d'ouverture \" \r\n     name='overture' value={overture} onChange={e=>onChange(e)}  />\r\n\r\n  </Form.Group>\r\n\r\n  <Form.Group controlId=\"formBasicFermeture\">\r\n    <Form.Label>Fermeture </Form.Label>\r\n    <Form.Control type=\"time\" placeholder=\"Entrer le temps de fermeture\" \r\n     name='fermeture' value={fermeture} onChange={e=>onChange(e)} />\r\n\r\n  </Form.Group>\r\n\r\n  <Form.Group controlId=\"formBasicTéléphone\">\r\n    <Form.Label>Téléphpne </Form.Label>\r\n    <Form.Control type=\"tel\" placeholder=\"Entrer le numero de telephone\" \r\n     name='telephone' value={telephone} onChange={e=>onChange(e)}   />\r\n\r\n  </Form.Group>\r\n\r\n\r\n\r\n\r\n\r\n             <Form.Group controlId='categorie'>\r\n                                                        <Form.Label>Catégorie</Form.Label>\r\n                                                        <Form.Control\r\n                                                            as='select'\r\n                                                            value={categorie}\r\n                                                            name=\"categorie\"\r\n                                                            onChange={e=>onChange(e)}\r\n                                                        required\r\n                                                        >\r\n                                                            <option value=''>Selectionez...</option>\r\n                                                            {categories.map(categorie=>(\r\n                    <option  value={categorie._id} key={categorie._id}  >\r\n                    {categorie.nom}\r\n                    </option>\r\n                ))\r\n\r\n                }\r\n                                                        </Form.Control>\r\n\r\n                                                    </Form.Group>\r\n\r\n\r\n                                                    <Form.Group controlId=\"formBasicAdresse\">\r\n    <Form.Label>Adresse </Form.Label>\r\n    <Form.Control type=\"text\" placeholder=\"Entrer votre adresse\" \r\n     name='adresse' value={adresse} onChange={e=>onChange(e)}  />\r\n\r\n  </Form.Group>\r\n\r\n \r\n                                                    <Form.Group controlId='wilaya'>\r\n                                                        <Form.Label>Wilaya</Form.Label>\r\n                                                        <Form.Control\r\n                                                            as='select'\r\n                                                            onChange={getCommunes}\r\n                                                       \r\n                                                        >\r\n                                                            <option value='' > Selectionez...</option>\r\n                                                            {wilayas.map(wilaya=>(\r\n\r\n                    <option  value={wilaya.id} key={wilaya.id}  >\r\n                    {wilaya.nom}\r\n                    </option>\r\n                ))\r\n\r\n                }\r\n                                                        </Form.Control>\r\n                                                    </Form.Group>\r\n\r\n             {communes&&\r\n\r\n                                                    <Form.Group controlId='commune' style={{display:display}} >\r\n                                                        <Form.Label>commune</Form.Label>\r\n                                                        <Form.Control\r\n                                                            as='select'\r\n                                                            value={commune}\r\n                                                            name=\"commune\"\r\n                                                            onChange={e=>onChange(e)}\r\n                                                        >\r\n                                                            <option value=''>Selectionez...</option>\r\n                                                            {communes.map(commune=>(\r\n                    <option  value={commune.id} key={commune.id}  >\r\n                    {commune.nom}\r\n                    </option>\r\n                ))\r\n\r\n                }\r\n                                                        </Form.Control>\r\n                                                    </Form.Group>}\r\n\r\n\r\n\r\n        <Form.Group controlId=\"formBasicLatittude\">\r\n    <Form.Label>Latittude </Form.Label>\r\n    <Form.Control type=\"text\"  placeholder=\"Entrer la latitude \" \r\n     name='latitude' value={latitude} onChange={e=>onChange(e)}   />\r\n\r\n  </Form.Group>\r\n  <Form.Group controlId=\"formBasicLongitude\">\r\n    <Form.Label>Longitude </Form.Label>\r\n    <Form.Control type=\"text\" inputmode=\"numeric\"  placeholder=\"Entrer la longitude\" \r\n     name='longitude' value={longitude} onChange={e=>onChange(e)}   />\r\n\r\n  </Form.Group>     \r\n\r\n   <Form.Group controlId='image'>\r\n                                <Form.Label>Image</Form.Label>\r\n                               \r\n                                <Form.Control\r\n\r\ntype='text'\r\nplaceholder='Enter image'\r\nvalue={image&&image.name}\r\nreadonly=\"readonly\"\r\n>\r\n</Form.Control>\r\n                                <Form.File\r\n                                    id='image-file'\r\n                                    label='Choose File'\r\n                                    custom\r\n                                    onChange={uploadFileHandler}\r\n                                >\r\n\r\n                                </Form.File>\r\n                              \r\n\r\n                            </Form.Group>   \r\n\r\n                               <Button type='submit' variant='primary'>\r\n                               Modifier\r\n                        </Button>                              \r\n     </Form>\r\n     </div>\r\n     }\r\n     \r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    isAuthenticated:state.auth.isAuthenticated,\r\n    user:state.auth.user\r\n  });\r\nexport default connect(mapStateToProps)(UpdateMagasin)\r\n","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\nimport {Row,Col,Image,ListGroup,Button,Card,Form} from 'react-bootstrap'\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { listMagasinDetails } from '../actions/mag'\r\nfunction CreateProduit({user,isAuthenticated,history,match}) {\r\n  const dispatch = useDispatch()\r\n  const magasinDetails = useSelector(state => state.magasinDetails)\r\n  const { loading, error, magasin } = magasinDetails\r\n    const [categories, setCategories] = useState([])\r\n    const [produits, setProduits] = useState([])\r\n    const [display, setDisplay] = useState(\"None\")\r\n    const [errorr,setErrorr]=useState(null)\r\n//fecth wilaya and categories\r\nconst getCat=   ()=>{\r\n axios.get(`${process.env.REACT_APP_API_URL}/api/categories/`)\r\n  .then(response => {\r\n    setCategories(response.data );\r\n   \r\n  })\r\n  .catch(error => console.log(error.response));\r\n\r\n\r\n}\r\n\r\n//fecth produit after categorie select\r\nconst getProduits=   (e)=>{\r\n  setFormData({ ...formData, [e.target.name]: e.target.value });\r\n    if(e.target.value!=''){\r\n      \r\n    axios.get(`${process.env.REACT_APP_API_URL}/api/produits/${e.target.value}/list-produits/`)\r\n     .then(response => {\r\n       setProduits(response.data);\r\n      \r\n     }).catch(error => console.log(error.response));\r\n     setDisplay(\"block\");\r\n    }\r\n    else{\r\n        setDisplay(\"none\")\r\n    }\r\n   }\r\n\r\n   //handeling data send\r\n   const [formData, setFormData] = useState({});\r\n\r\nconst {  \r\ncategorie,\r\nproduit,\r\nprix,\r\nnouveauproduit,\r\nimage\r\n\r\n} = formData;\r\n//seting our state  from the target (our input field) value\r\nfunction transformInToFormObject(data) {\r\n    let formData = new FormData();\r\n    for (let key in data) {\r\n      if (Array.isArray(data[key])) {\r\n        data[key].forEach((obj, index) => {\r\n          let keyList = Object.keys(obj);\r\n          keyList.forEach((keyItem) => {\r\n            let keyName = [key, \"[\", index, \"]\", \".\", keyItem].join(\"\");\r\n            formData.append(keyName, obj[keyItem]);\r\n          });\r\n        });\r\n      } else if (typeof data[key] === \"object\") { \r\n        for (let innerKey in data[key]) {\r\n          formData.append(`${key}.${innerKey}`, data[key][innerKey]);\r\n        }\r\n      } else {\r\n        formData.append(key, data[key]);\r\n      }\r\n    }\r\n    return formData;\r\n  }\r\nconst onChange = e => setFormData({ ...formData, [e.target.name]: e.target.value });\r\nconst [uploading,setUploading]=useState(false)\r\n  const onSubmit=async(e)=>{\r\n    e.preventDefault()\r\n   \r\n \r\n    setUploading(true)\r\n    var form = transformInToFormObject(formData);\r\n    image&& form.append('image',image)\r\n   \r\n    try {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data',\r\n                Authorization: `JWT ${localStorage.getItem('access')}`\r\n            }\r\n        }\r\n\r\n        const { data } = await axios.post(`${process.env.REACT_APP_API_URL}/api/produits/create/${match.params.id}`, form, config)\r\n\r\n\r\n   \r\n        setUploading(false)\r\n        history.push(`/marchant/magasin/${match.params.id}`)\r\n\r\n    } catch (error) {\r\n        setUploading(false)\r\n        //console.log(error)\r\n        error.response && error.response.data.detail\r\n        ?  setErrorr(error.response.data.detail)\r\n        : setErrorr(error.message)\r\n       console.log(formData)\r\n      \r\n    }\r\n  }\r\n\r\n\r\n  const uploadFileHandler = async (e) => {\r\n    const file = e.target.files[0]\r\n\r\n    setFormData({ ...formData, 'image':  file })\r\n\r\n\r\n\r\n    \r\n}\r\n\r\n    useEffect(() => {\r\n  \r\n      dispatch(listMagasinDetails(match.params.id));\r\n\r\n        getCat();\r\n     \r\n        \r\n    \r\n    },[dispatch,match.params.id])\r\n\r\n\r\n\r\n    \r\n    if (isAuthenticated==false) {\r\n  \r\n      history.replace('/')\r\n      \r\n    }\r\n    else{\r\n      if(user&&magasin.user){\r\n        if(user&&magasin.user!==user.id) history.replace('/')\r\n      }\r\n    }\r\n    return (\r\n        <div>\r\n               {uploading||loading ? <Loader />:error? \r\n                <Message variant='danger'>{error}</Message>:\r\n               <div>\r\n                  <Button className='btn btn-dark my-3' size=\"md\" block>\r\n    Ajouter un produit\r\n  </Button>\r\n{errorr && <Message variant='danger'>{errorr}</Message>\r\n  \r\n}\r\n\r\n            <Form onSubmit={e=>onSubmit(e)}>\r\n         \r\n      \r\n             <Form.Group controlId='categorie'>\r\n                                                        <Form.Label>Catégorie</Form.Label>\r\n                                                        <Form.Control\r\n                                                            as='select'\r\n                                                            value={categorie}\r\n                                                            name=\"categorie\"\r\n                                                            onChange={getProduits}\r\n                                                        required\r\n                                                        >\r\n                                                            <option value=''>Selectionez...</option>\r\n                                                            {categories.map(categorie=>(\r\n                    <option  value={categorie._id} key={categorie._id}  >\r\n                    {categorie.nom}\r\n                    </option>\r\n                ))\r\n\r\n                }\r\n                                                        </Form.Control>\r\n\r\n                                                    </Form.Group>\r\n\r\n\r\n\r\n \r\n                                                    \r\n\r\n             {produits&&\r\n\r\n                                                    <Form.Group controlId='produit' style={{display:display}} >\r\n                                                        <Form.Label>produit</Form.Label>\r\n                                                        <Form.Control\r\n                                                            as='select'\r\n                                                            value={produit}\r\n                                                            name=\"produit\"\r\n                                                            onChange={e=>onChange(e)}\r\n                                                        >\r\n                                                            <option value=''>Selectionez...</option>\r\n                                                            {produits.map(produit=>(\r\n                    <option  value={produit._id} key={produit._id}  >\r\n                    {produit.nom}\r\n                    </option>\r\n                ))\r\n\r\n                }\r\n                                                        </Form.Control>\r\n                                                    </Form.Group>}\r\n\r\n                                                    <Form.Row>\r\n                                                      Autre:\r\n                                                    <Col>\r\n                                                    <Form.Group controlId=\"formBasicNom\">\r\n    <Form.Label>Nom du produit: </Form.Label>\r\n    <Form.Control type=\"text\" placeholder=\"Entrer le nom du nouveau produit\" \r\n     name='nouveauproduit' value={nouveauproduit} onChange={e=>onChange(e)}  />\r\n\r\n  </Form.Group>\r\n  </Col>\r\n<Col>\r\n   <Form.Group controlId='image'>\r\n                                <Form.Label>Image</Form.Label>\r\n                               \r\n                                <Form.Control\r\n\r\ntype='text'\r\nplaceholder='Enter image'\r\nvalue={image&&image.name}\r\nreadonly=\"readonly\"\r\n>\r\n</Form.Control>\r\n                                <Form.File\r\n                                    id='image-file'\r\n                                    label='Choose File'\r\n                                    custom\r\n                                    onChange={uploadFileHandler}\r\n                                >\r\n\r\n                                </Form.File>\r\n                              \r\n\r\n                            </Form.Group>   \r\n                            </Col>\r\n                            </Form.Row>\r\n                            <Form.Group controlId=\"formBasicPrix\">\r\n    <Form.Label>Prix du produit: </Form.Label>\r\n    <Form.Control type=\"text\" \r\n    \r\n    pattern=\"(^[+-]?([0-9]*[.])?[0-9]+$)\"\r\n    step=\"any\"\r\n    maxlength=\"15\"\r\n    validate=\"true\"\r\n    placeholder=\"Entrer le prix du produit\" \r\n     name='prix' value={prix} onChange={e=>onChange(e)}  />\r\n\r\n  </Form.Group>\r\n                               <Button type='submit' variant='primary'>\r\n                               Ajouter produit\r\n                        </Button>                              \r\n     </Form>\r\n     </div>\r\n     }\r\n     \r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    isAuthenticated:state.auth.isAuthenticated,\r\n    user:state.auth.user\r\n  });\r\nexport default connect(mapStateToProps)(CreateProduit)\r\n","import React from 'react'\r\nimport { Card} from 'react-bootstrap'\r\nimport Rating from './Rating'\r\nimport {Link} from 'react-router-dom'\r\n//we destractured the magasin prop we could do props.magasin but like this we only do it once\r\nfunction MagasinMarchant({magasin}) {\r\n    return (\r\n        <Card className=\"my-3    rounded\" >\r\n            <Link to={`/marchant/magasin/${magasin._id}`}>\r\n            <Card.Img style={{ height: '13rem' }} variant=\"top\" src={process.env.REACT_APP_API_URL+'/static'+magasin.image}/></Link>\r\n         <Card.Body>\r\n         <Link to={`/marchant/magasin/${magasin._id}`}>\r\n            <Card.Title  as=\"div\">\r\n             <strong>{magasin.nom}</strong>  <p> <strong> {magasin.categorie}</strong></p>\r\n                </Card.Title>\r\n            </Link>\r\n         \r\n            <Card.Text as=\"div\">\r\n                <div className=\"my-3\">\r\n\r\n             <Rating value={magasin.rating} text={`${magasin.numReviews} avis`} color={'#f8e825'}></Rating>\r\n                </div>\r\n            </Card.Text>\r\n            <Card.Text as=\"div\">\r\n                <strong>\r\n            <i class=\"fas fa-map-marker-alt\"></i> <p><strong>{magasin.commune&&magasin.commune.wilaya} {magasin.commune&&magasin.commune.nom} {magasin.adresse}</strong></p>\r\n            </strong>\r\n            </Card.Text>\r\n         </Card.Body>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default  MagasinMarchant\r\n","import React,{ useState, useEffect } from 'react'\r\nimport  magasins from '../magasins'\r\nimport {Col,Row,Carousel,Button  } from 'react-bootstrap'\r\nimport MagasinMarchant from '../components/MagasinMarchant'\r\nimport CarouselHome from '../components/CarouselHome'\r\n\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\nimport Paginate from '../components/Paginate'\r\nimport { listMagasinsmarchant } from '../actions/mag'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { connect } from 'react-redux';\r\nimport { Redirect,Link } from 'react-router-dom';\r\n\r\n\r\nfunction MagasinList({ history,user ,isAuthenticated}) {\r\n \r\n    const dispatch = useDispatch()\r\n    const magasinListMarchant = useSelector(state => state.magasinListMarchant)\r\n    const { error, loading, magasins, page, pages } = magasinListMarchant\r\n\r\n  let pageNum=history.location.search\r\n\r\n\r\n    useEffect(() => {\r\n       \r\n        dispatch(listMagasinsmarchant(pageNum))\r\n\r\n    }, [dispatch,pageNum])\r\n    if (isAuthenticated==false||(user&&!user.is_merchant)) {\r\n        history.replace('/')\r\n    }\r\n    return (\r\n        <div>\r\n \r\n \r\n  <Button className='btn btn-dark my-3' size=\"md\" block>\r\n Vos magasins\r\n  </Button>\r\n  <Link to='/create-magasin/' >  <Button className='btn btn-dark my-3' size=\"md\" block>\r\nAjouter un nouveau magasin\r\n  </Button></Link>\r\n  {loading ? <Loader />\r\n                : error ? <Message variant='danger'>{error}</Message>\r\n                :\r\n                <div>\r\n            <Row>\r\n                {magasins.map(magasin=>(\r\n                    <Col  className=\"col-lg-4 d-flex align-items-stretch\"  key={magasin._id} sm={12} md={6} lg={4} xl={3} >\r\n                    <MagasinMarchant magasin={magasin}/>\r\n                    </Col>\r\n                ))\r\n\r\n                }\r\n            </Row>\r\n            <Paginate page={page} pages={pages}  screen=\"marchant\" />\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = state => ({\r\n    isAuthenticated:state.auth.isAuthenticated,\r\n    user:state.auth.user\r\n  });\r\nexport default connect(mapStateToProps)(MagasinList)","import React, { useState, useEffect } from 'react'\r\nimport { Card,Button,Form,Col} from 'react-bootstrap'\r\nimport Rating from './Rating'\r\nimport {Link} from 'react-router-dom'\r\nimport Loader from './Loader'\r\nimport axios from 'axios'\r\n//we destractured the produit prop we could do props.produit but like this we only do it once\r\nfunction ProduitMarchant({produit}) {\r\n\r\n\r\n    const [uploading,setUploading]=useState(false)\r\n    const [prix,setPrix]=useState(produit.prix)\r\nconst delete_Produit=async(e)=>{\r\n  if (window.confirm('etes vous sure de vouloir supprimer ce profuit?')) {\r\n  e.preventDefault();\r\n  try {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization: `JWT ${localStorage.getItem('access')}`\r\n        }\r\n    }\r\n\r\n    const { data } = await axios.delete(`${process.env.REACT_APP_API_URL}/api/produits/delete/${produit._id}`, config)\r\n\r\n\r\n\r\n    setUploading(false)\r\n    \r\n\r\n    \r\n\r\n} catch (error) {\r\n    setUploading(false)\r\n    console.log(error)\r\n\r\n   \r\n  \r\n}\r\n\r\n\r\n}\r\nelse{\r\nsetUploading(false)\r\n}\r\n}\r\n\r\n//update prix\r\nconst update_Produit=async(e)=>{\r\n \r\n    e.preventDefault();\r\n    try {\r\n      const config = {\r\n          headers: {\r\n              'Content-Type': 'application/json',\r\n              Authorization: `JWT ${localStorage.getItem('access')}`\r\n          }\r\n      }\r\n  \r\n      const { data } = await axios.put(`${process.env.REACT_APP_API_URL}/api/produits/update/${produit._id}`,{'prix':prix} ,config)\r\n  \r\n  \r\n  \r\n      setUploading(false)\r\n      \r\n  \r\n      \r\n  \r\n  } catch (error) {\r\n      setUploading(false)\r\n      console.log(error)\r\n  \r\n     \r\n    \r\n  }\r\n  \r\n  \r\n  \r\n  \r\n  }\r\n    return (\r\n        <div>\r\n        {uploading?<Loader />:(\r\n        <Card className=\"my-3    rounded\"  >\r\n           \r\n            <Card.Img variant=\"top\" src={process.env.REACT_APP_API_URL+'/static'+produit.produit_nom.image} style={{height:\"15vw\"}}/>\r\n         <Card.Body>\r\n      \r\n            <Card.Title  as=\"div\">\r\n             <strong >{produit.produit_nom.nom}</strong>  \r\n                </Card.Title>\r\n        \r\n         \r\n          \r\n                <Card.Text as=\"div\">\r\n                <strong>\r\n                <i class=\"fas fa-money-bill-wave\"></i> <strong>{produit.prix} DA </strong>\r\n            </strong>\r\n            </Card.Text>\r\n            <Form onSubmit={e=>update_Produit(e)}>\r\n                <Form.Row>\r\n \r\n          \r\n    <Col    sm={5}>\r\n    <Form.Control type=\"text\" \r\n \r\n    pattern=\"(^[+-]?([0-9]*[.])?[0-9]+$)\"\r\n    step=\"any\"\r\n    maxlength=\"15\"\r\n    validate=\"true\"\r\n    placeholder=\"Entrer le prix du produit\" \r\n     name='prix' value={prix} onChange={e=>setPrix(e.target.value)}  required />\r\n </Col>\r\n  \r\n \r\n  <Col>\r\n                               <Button type='submit' variant='primary' size=\"sm\"  className='btn btn-dark my-2'>\r\n                               modifier prix \r\n                        </Button>           \r\n                        </Col>\r\n                        </Form.Row>                   \r\n     </Form>\r\n            \r\n            <Button className='btn btn-dark my-3'    onClick={e=>delete_Produit(e)} block>\r\n   <i class=\"fas fa-trash-alt\"></i>\r\n  </Button>\r\n         </Card.Body>\r\n        </Card>)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProduitMarchant\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet'\r\nimport Carousel from \"react-multi-carousel\";\r\nimport \"react-multi-carousel/lib/styles.css\";\r\nimport {Link,Redirect} from 'react-router-dom';\r\nimport {Row,Col,Image,ListGroup,Button,Card,Form} from 'react-bootstrap'\r\nimport Rating from '../components/Rating'\r\nimport  magasins from '../magasins'\r\nimport ProduitMarchant from '../components/ProduitMarchant'\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\nimport { listMagasinDetails,deleteMagasin } from '../actions/mag'\r\nimport { connect } from 'react-redux';\r\nimport axios from 'axios'\r\n\r\nconst responsive = {\r\n    superLargeDesktop: {\r\n      // the naming can be any, depends on you.\r\n      breakpoint: { max: 4000, min: 3000 },\r\n      items: 5\r\n    },\r\n    desktop: {\r\n      breakpoint: { max: 3000, min: 1024 },\r\n      items: 3\r\n    },\r\n    tablet: {\r\n      breakpoint: { max: 1024, min: 464 },\r\n      items: 2\r\n    },\r\n    mobile: {\r\n      breakpoint: { max: 464, min: 0 },\r\n      items: 1\r\n    }\r\n  };\r\n  //ici match nous donne acces au parametre de l url\r\nfunction ShopMarchantScreen({match,history,user,isAuthenticated}) {\r\n\r\n  \r\n  const dispatch = useDispatch()\r\n\r\n  const magasinDetails = useSelector(state => state.magasinDetails)\r\n  const { loading, error, magasin } = magasinDetails\r\n\r\n\r\nconst [uploading,setUploading]=useState(false)\r\nconst delete_Magasin=async(e)=>{\r\n  if (window.confirm('etes vous sure de vouloir supprimer ce magasin?')) {\r\n  e.preventDefault();\r\n  try {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization: `JWT ${localStorage.getItem('access')}`\r\n        }\r\n    }\r\n\r\n    const { data } = await axios.delete(`${process.env.REACT_APP_API_URL}/api/magasins/delete/${match.params.id}`, config)\r\n\r\n\r\n\r\n    setUploading(false)\r\n    if(user){\r\n      if(user.is_merchant){\r\n        \r\n        window.location.replace(`/marchant/magasinslist`)}\r\n      else{\r\n        \r\n       \r\n        window.location.replace(`/`)}\r\n    }\r\n\r\n    \r\n\r\n} catch (error) {\r\n    setUploading(false)\r\n    console.log(error)\r\n\r\n   \r\n  \r\n}\r\n\r\n\r\n}\r\nelse{\r\nsetUploading(false)\r\n}\r\n}\r\n//useeffect glob\r\nuseEffect(() => {\r\n   \r\n  dispatch(listMagasinDetails(match.params.id))\r\n  \r\n\r\n}, [dispatch,magasin,match])\r\n  \r\n  \r\n\r\n  \r\n \r\n  \r\n\r\n\r\nif (isAuthenticated==false) {\r\n  \r\n  history.replace('/')\r\n  \r\n}\r\nelse{\r\n  if(user&&magasin.user){\r\n    if(user&&magasin.user!==user.id) history.replace('/')\r\n  }\r\n}\r\n\r\n\r\n\r\n    return (\r\n      \r\n        <div >\r\n          <Link to='/marchant/magasinslist' >  <Button className='btn btn-dark my-3' size=\"md\" block>\r\n    Retour a la liste principale\r\n  </Button></Link>\r\n  <Link to={`/update-magasin/${match.params.id}`} >  <Button className='btn btn-dark my-3' size=\"md\" block>\r\n    Modifier le magasin\r\n  </Button></Link>\r\n\r\n  <Button className='btn btn-dark my-3' size=\"md\" onClick={e=>delete_Magasin(e)} block>\r\n   <i class=\"fas fa-trash-alt\"></i>\r\n  </Button>\r\n \r\n  {loading||uploading?\r\n                <Loader />\r\n                : error\r\n                    ? <Message variant='danger'>{error}</Message>\r\n                    :(<div>\r\n        <Row >\r\n          <Col md={7}>\r\n            <Image src={process.env.REACT_APP_API_URL+'/static'+magasin.image} alt={magasin.nom} fluid/>\r\n          </Col>\r\n          \r\n        \r\n         <Col md={5}>\r\n    \r\n  <Card border=\"light\" style={{ width: '100%' }}>\r\n    <Card.Header><h3>{magasin.nom}</h3></Card.Header>\r\n    <Card.Body>\r\n      <Card.Title><strong>Catégorie : </strong>{magasin.categorie&&magasin.categorie.nom}</Card.Title>\r\n      <ListGroup variant=\"flush\">\r\n    <ListGroup.Item  className=\"pl-0\">\r\n    <Rating value={magasin.rating} text={`${magasin.numReviews} avis`} color={'#f8e825'}></Rating>\r\n    </ListGroup.Item>\r\n\r\n    <ListGroup.Item className=\"pl-0\">\r\n    <span style={{color:'black'}}><strong>Wilaya:</strong>{magasin.commune&&magasin.commune.wilaya}</span>   \r\n      <br/>\r\n      <span style={{color:'black'}}><strong>Comune:</strong> {magasin.commune&&magasin.commune.nom}</span>\r\n      <br/>\r\n      <i class=\"fas fa-map-marker-alt\"> </i> <span style={{color:'black'}}><strong>{magasin.adresse}</strong></span>\r\n      </ListGroup.Item>\r\n \r\n    <ListGroup.Item className=\"pl-0\">\r\n\r\n    <span style={{color:'black'}}><i class=\"fas fa-phone-alt\"></i>{magasin.telephone}</span>\r\n\r\n    </ListGroup.Item>\r\n    <ListGroup.Item className=\"pl-0\">\r\n\r\n<span style={{color:'black'}}><i class=\"fas fa-door-open\"></i>{magasin.overture}</span>\r\n<br/>\r\n<span style={{color:'black'}}><i class=\"fas fa-door-closed\"></i>{magasin.fermeture}</span>\r\n</ListGroup.Item>\r\n  </ListGroup>\r\n    </Card.Body>\r\n  </Card>\r\n  </Col>\r\n  \r\n        </Row>\r\n        <Link to={`/ajouter-produit/${match.params.id}`} >  <Button className='btn btn-dark my-3' size=\"md\" block>\r\n    ajouter un produit dans le magasin\r\n  </Button></Link>\r\n        {(() => {\r\n              if (magasin.produits){\r\n        return(\r\n            <Carousel responsive={responsive}>\r\n            {\r\n            magasin.produits.map(produit=>(\r\n                    <Col   key={produit._id} md={11}  >\r\n                    <ProduitMarchant produit={produit}/>\r\n                    </Col>\r\n                ))\r\n\r\n                }\r\n</Carousel>\r\n        )}    return null;\r\n      })()}\r\n  \r\n            <MapContainer   className=\"my-3\" center={[magasin.latitude?magasin.latitude:0, magasin.longitude?magasin.longitude:0]} zoom={10} scrollWheelZoom={false}>\r\n  <TileLayer\r\n    attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n  />\r\n  <Marker position={[magasin.latitude?magasin.latitude:0, magasin.longitude?magasin.longitude:0]}>\r\n    <Popup>\r\n      {magasin.nom}\r\n    </Popup>\r\n  </Marker>\r\n</MapContainer>\r\n\r\n</div>)}\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated:state.auth.isAuthenticated,\r\n  user:state.auth.user\r\n});\r\nexport default connect(mapStateToProps)(ShopMarchantScreen)\r\n","import React, { useEffect } from 'react';\r\nimport Header from '../components/Header'\r\nimport Footer from '../components/Footer'\r\nimport { connect } from 'react-redux';\r\nimport { checkAuthenticated, load_user } from '../actions/auth';\r\nimport { Container } from 'react-bootstrap';\r\nimport { useHistory } from 'react-router-dom'\r\n\r\n\r\nconst Layout = ({ match,checkAuthenticated, load_user,children }) => {\r\n    const history = useHistory()\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0)\r\n        checkAuthenticated();\r\n        load_user();\r\n        history.listen((location) => {\r\n            checkAuthenticated();\r\n            load_user();\r\n            window.scrollTo(0, 0)\r\n        })\r\n    }, []);\r\n\r\n    return (\r\n\r\n       <div>\r\n                <Header/>\r\n                <main className=\"py-3\">\r\n        <Container>\r\n                {children}\r\n                </Container>\r\n      \r\n      </main>\r\n                <Footer/>\r\n       </div>\r\n\r\n    );\r\n};\r\n\r\nexport default connect(null, { checkAuthenticated, load_user })(Layout);","import {\r\n    LOGIN_SUCCESS,\r\n    LOGIN_FAIL,\r\n    USER_LOADED_SUCCESS,\r\n    USER_LOADED_FAIL,\r\n    AUTHENTICATED_SUCCESS,\r\n    AUTHENTICATED_FAIL,\r\n    LOGOUT,\r\n    PASSWORD_RESET_SUCCESS,\r\n    PASSWORD_RESET_FAIL,\r\n    PASSWORD_RESET_CONFIRM_SUCCESS,\r\n    PASSWORD_RESET_CONFIRM_FAIL,\r\n    DELETE_MESSAGE,\r\n    DELETE_ERROR,\r\n    SIGNUP_SUCCESS,\r\n    SIGNUP_FAIL,\r\n    ACTIVATION_SUCCESS,\r\n    ACTIVATION_FAIL,\r\n    CREATE_MESSAGE,\r\n    CREATE_ERROR\r\n \r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n    access: localStorage.getItem('access'),\r\n    refresh: localStorage.getItem('refresh'),\r\n    isAuthenticated: null,\r\n    user: null,\r\n    error: null,\r\n    message:null\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n    const { type, payload } = action;\r\n    switch(type) {\r\n        case LOGIN_SUCCESS:\r\n                localStorage.setItem('access', payload.access);\r\n                localStorage.setItem('refresh', payload.refresh);\r\n                return {\r\n                    ...state,\r\n                    isAuthenticated: true,\r\n                    access: payload.access,\r\n                    refresh: payload.refresh,\r\n                    error:null\r\n                }\r\n                \r\n                case USER_LOADED_SUCCESS:\r\n                    return {\r\n                        ...state,\r\n                        user: payload\r\n                    }\r\n\r\n                case USER_LOADED_FAIL:\r\n                    return {\r\n                        ...state,\r\n                        user: null\r\n                    }\r\n        case LOGIN_FAIL:\r\n            localStorage.removeItem('access');\r\n            localStorage.removeItem('refresh');\r\n            return {\r\n                ...state,\r\n                access: null,\r\n                refresh: null,\r\n                isAuthenticated: false,\r\n                user: null,\r\n                error: action.payload\r\n            }\r\n        case AUTHENTICATED_SUCCESS:\r\n                return {\r\n                    ...state,\r\n                    isAuthenticated: true\r\n                }\r\n        case AUTHENTICATED_FAIL:\r\n                return {\r\n                    ...state,\r\n                    isAuthenticated: false\r\n                }\r\n\r\n                case LOGOUT:\r\n            localStorage.removeItem('access');\r\n            localStorage.removeItem('refresh');\r\n            return {\r\n                ...state,\r\n                access: null,\r\n                refresh: null,\r\n                isAuthenticated: false,\r\n                user: null,\r\n                error:null\r\n            }\r\n            case PASSWORD_RESET_SUCCESS:\r\n            case PASSWORD_RESET_CONFIRM_SUCCESS:\r\n                    return {\r\n                        ...state,\r\n                        message: action.payload\r\n                    }\r\n            case PASSWORD_RESET_FAIL:\r\n             case PASSWORD_RESET_CONFIRM_FAIL:\r\n                    return {\r\n                        ...state,\r\n                        error: action.payload\r\n                    }\r\n            case DELETE_MESSAGE:\r\n            return {\r\n                        ...state,\r\n                        message: null\r\n                               }\r\n            case DELETE_ERROR:\r\n            return {\r\n                        ...state,\r\n                        error: null\r\n                                } \r\n            case  CREATE_MESSAGE:\r\n                return {\r\n                            ...state,\r\n                            message: action.payload\r\n                                    }\r\n                case  CREATE_ERROR:\r\n                return {\r\n                            ...state,\r\n                            error: action.payload\r\n                                    }      \r\n            case SIGNUP_SUCCESS:\r\n                return {\r\n                    ...state,\r\n                    isAuthenticated: false,\r\n                    message: action.payload\r\n                }    \r\n            case SIGNUP_FAIL:\r\n                localStorage.removeItem('access');\r\n                localStorage.removeItem('refresh');\r\n                return {\r\n                    ...state,\r\n                    access: null,\r\n                    refresh: null,\r\n                    isAuthenticated: false,\r\n                    user: null,\r\n                    error:action.payload\r\n                }        \r\n            default:\r\n                return state\r\n        }\r\n};","  \r\nimport { combineReducers } from 'redux';\r\nimport auth from './auth';\r\nimport {magasinListReducer} from './mag';\r\nimport {magasinDetailsReducer} from './mag';\r\nimport {magasinReviewCreateReducer} from './mag';\r\nimport {magasinVisiteCreateReducer} from './mag';\r\nimport {magasinListMarchantReducer} from './mag';\r\nimport {magasinRequeteCreateReducer} from './mag';\r\n\r\nexport default combineReducers({\r\n    auth,\r\n    magasinList:magasinListReducer,\r\n    magasinDetails:magasinDetailsReducer,\r\n    magasinReviewCreate:magasinReviewCreateReducer,\r\n    magasinVisiteCreate:magasinVisiteCreateReducer,\r\n    magasinListMarchant:magasinListMarchantReducer,\r\n    magasinRequeteCreate:magasinRequeteCreateReducer\r\n});","import {\r\n    MAGASIN_LIST_REQUEST,\r\n    MAGASIN_LIST_SUCCESS,\r\n    MAGASIN_LIST_FAIL,\r\n    MAGASIN_DETAILS_REQUEST,\r\n    MAGASIN_DETAILS_SUCCESS,\r\n    MAGASIN_DETAILS_FAIL,\r\n    MAGASIN_CREATE_REVIEW_REQUEST,\r\n    MAGASIN_CREATE_REVIEW_SUCCESS,\r\n    MAGASIN_CREATE_REVIEW_FAIL,\r\n    MAGASIN_CREATE_REVIEW_RESET,\r\n    DELETE_MESSAGE_MAG,\r\n    DELETE_ERROR_MAG,\r\n    MAGASIN_CREATE_VISITE_REQUEST,\r\n    MAGASIN_CREATE_VISITE_SUCCESS,\r\n    MAGASIN_CREATE_VISITE_FAIL,\r\n    MAGASIN_CREATE_VISITE_RESET,\r\n    MAGASINMarchant_LIST_REQUEST,\r\n    MAGASINMarchant_LIST_SUCCESS,\r\n    MAGASINMarchant_LIST_FAIL,\r\n    MAGASIN_CREATE_REQUETE_REQUEST,\r\n    MAGASIN_CREATE_REQUETE_SUCCESS, \r\n    MAGASIN_CREATE_REQUETE_FAIL, \r\n    MAGASIN_CREATE_REQUETE_RESET \r\n  \r\n\r\n} from '../actions/types';\r\n\r\n\r\nexport const magasinListReducer = (state = { magasins: [] }, action) => {\r\n    switch (action.type) {\r\n        case MAGASIN_LIST_REQUEST:\r\n            return { loading: true, magasins: [] }\r\n\r\n        case MAGASIN_LIST_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                magasins: action.payload.magasins,\r\n                page: action.payload.page,\r\n                pages: action.payload.pages,\r\n                rec1: action.payload.rec1,\r\n                rec2:action.payload.rec2\r\n            }\r\n\r\n        case MAGASIN_LIST_FAIL:\r\n            return { loading: false, error: action.payload }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const magasinDetailsReducer = (state = { magasin: { reviews: [],produits:[] } }, action) => {\r\n    switch (action.type) {\r\n        case MAGASIN_DETAILS_REQUEST:\r\n            return { loading: true, ...state }\r\n\r\n        case MAGASIN_DETAILS_SUCCESS:\r\n            return { loading: false, magasin: action.payload }\r\n\r\n        case MAGASIN_DETAILS_FAIL:\r\n            return { loading: false, error: action.payload }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//review\r\nexport const magasinReviewCreateReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case MAGASIN_CREATE_REVIEW_REQUEST:\r\n            return { loading: true }\r\n\r\n        case MAGASIN_CREATE_REVIEW_SUCCESS:\r\n            return { loading: false, success: true, }\r\n\r\n        case MAGASIN_CREATE_REVIEW_FAIL:\r\n            return { loading: false, error: action.payload }\r\n\r\n        case MAGASIN_CREATE_REVIEW_RESET:\r\n            return {}\r\n        case DELETE_MESSAGE_MAG:\r\n            return {\r\n                ...state,\r\n                success: false\r\n            }\r\n        case DELETE_ERROR_MAG:\r\n            return{\r\n              \r\n                    error: null\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//crée visite\r\nexport const magasinVisiteCreateReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case MAGASIN_CREATE_VISITE_REQUEST:\r\n            return { loading: true }\r\n\r\n        case MAGASIN_CREATE_VISITE_SUCCESS:\r\n            return { loading: false, success: true, }\r\n\r\n        case MAGASIN_CREATE_VISITE_FAIL:\r\n            return { loading: false, error: action.payload }\r\n\r\n        case MAGASIN_CREATE_VISITE_RESET:\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\n\r\n//magasinmarchantreducer\r\n\r\nexport const magasinListMarchantReducer = (state = { magasins: [] }, action) => {\r\n    switch (action.type) {\r\n        case MAGASINMarchant_LIST_REQUEST:\r\n            return { loading: true, magasins: [] }\r\n\r\n        case MAGASINMarchant_LIST_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                magasins: action.payload.magasins,\r\n                page: action.payload.page,\r\n                pages: action.payload.pages\r\n            }\r\n\r\n        case MAGASINMarchant_LIST_FAIL:\r\n            return { loading: false, error: action.payload }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\n//crée requete\r\nexport const magasinRequeteCreateReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case MAGASIN_CREATE_REQUETE_REQUEST:\r\n            return { loading: true }\r\n\r\n        case MAGASIN_CREATE_REQUETE_SUCCESS:\r\n            return { loading: false, success: true, }\r\n\r\n        case MAGASIN_CREATE_REQUETE_FAIL:\r\n            return { loading: false, error: action.payload }\r\n\r\n        case MAGASIN_CREATE_REQUETE_RESET:\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers';\r\n\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    initialState,\r\n    composeWithDevTools(applyMiddleware(...middleware))\r\n);\r\n\r\nexport default store;","import { Container } from 'react-bootstrap'\nimport Header from './components/Header'\nimport Footer from './components/Footer'\nimport HomeScreen from './screens/HomeScreen'\nimport ShopScreen from './screens/ShopScreen'\nimport  Login from './screens/Login'\nimport SignUp from './screens/SignUp'\nimport ResetPassword from './screens/ResetPassword'\nimport ResetPasswordConfirm from './screens/ResetPasswordConfirm'\nimport Activate from './screens/Activate'\nimport CreateMagasin from './screens/CreateMagasin'\nimport UpdateMagasin from './screens/UpdateMagasin'\nimport CreateProduit from './screens/CreateProduit'\nimport MagasinList from './screens/MagasinList'\nimport ShopMarchantScreen from './screens/ShopMarchantScreen'\nimport {BrowserRouter as Router,Route,Switch,withRouter  }from 'react-router-dom'\nimport Layout from './hocs/layout';\n//for redux store\nimport { Provider } from 'react-redux';\nimport store from './store';\n\n\n//https://mdbootstrap.com/docs/b5/react/utilities/spacing/ to see what classname =\"py-3\" means\n//for ex here p means padding and y means top and bottom nd 3 the size of padding\n//--------------exact added to the first route cause we started with '/'\n\nfunction App() {\n\n  return (\n  \n    <Provider store={store}>\n \n        <Router >\n     \n          <Layout>\n                <Switch>\n            <Route path='/' component={HomeScreen}  exact/>\n            <Route path='/magasin/:keyword/:id' component={ShopScreen} />\n            <Route path='/login' component={Login} />\n            <Route path='/activate/:uid/:token' component={Activate} />\n            <Route path='/signup' component={SignUp} />\n            <Route path='/reset-password' component={ResetPassword} />\n            <Route path='/password/reset/confirm/:uid/:token' component={ResetPasswordConfirm} />\n            <Route path='/create-magasin' component={CreateMagasin} />\n            <Route path='/update-magasin/:id' component={UpdateMagasin} />\n            <Route path='/marchant/magasinslist' component={MagasinList} />\n            <Route path='/marchant/magasin/:id' component={ShopMarchantScreen} />\n            <Route path='/ajouter-produit/:id' component={CreateProduit} />\n            </Switch>\n            </Layout>\n          \n          \n        </Router>\n\n    </Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './bootstrap.min.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'react-toastify/dist/ReactToastify.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}